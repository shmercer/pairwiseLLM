<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Prompt Template Positional Bias Testing • pairwiseLLM</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prompt Template Positional Bias Testing">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pairwiseLLM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/advanced-batch-workflows.html">Advanced: Submitting and Polling Multiple Batches</a></li>
    <li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started with pairwiseLLM</a></li>
    <li><a class="dropdown-item" href="../articles/prompt-template-positional-bias.html">Prompt Template Positional Bias Testing</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/shmercer/pairwiseLLM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Prompt Template Positional Bias Testing</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/shmercer/pairwiseLLM/blob/master/vignettes/prompt-template-positional-bias.Rmd" class="external-link"><code>vignettes/prompt-template-positional-bias.Rmd</code></a></small>
      <div class="d-none name"><code>prompt-template-positional-bias.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="motivation">1. Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p><code>pairwiseLLM</code> uses large language models (LLMs) to compare
pairs of writing samples and decide which sample is better on a given
trait (for example, <em>Overall Quality</em>).</p>
<p>If a <strong>prompt template</strong> systematically nudges the model
toward the first or second position, then scores derived from these
comparisons may be biased. This vignette documents how we:</p>
<ul>
<li>Designed and tested several prompt templates for <strong>positional
bias</strong><br>
</li>
<li>Quantified both <strong>reverse-order consistency</strong> and
<strong>preference for SAMPLE_1</strong><br>
</li>
<li>Selected templates that appear robust across multiple providers and
reasoning configurations</li>
</ul>
<p>The vignette also shows how to:</p>
<ul>
<li>Retrieve the tested templates from the package<br>
</li>
<li>Inspect their full text<br>
</li>
<li>Access summary statistics from the experiments</li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="testing-process-summary">2. Testing Process Summary<a class="anchor" aria-label="anchor" href="#testing-process-summary"></a>
</h2>
<p>At a high level, the testing pipeline works as follows:</p>
<ol style="list-style-type: decimal">
<li>
<p><strong>Trait and samples</strong></p>
<ul>
<li>Choose a trait (here: <code>"overall_quality"</code>) and obtain its
description with <code><a href="../reference/trait_description.html">trait_description()</a></code>.</li>
<li>Use <code>example_writing_samples</code> or your own dataset of
writing samples.</li>
</ul>
</li>
<li>
<p><strong>Generate forward and reverse pairs</strong></p>
<ul>
<li>Use <code><a href="../reference/make_pairs.html">make_pairs()</a></code> to generate all ordered pairs.</li>
<li>Use <code><a href="../reference/alternate_pair_order.html">alternate_pair_order()</a></code> to build a deterministic
“forward” set.</li>
<li>Use <code><a href="../reference/sample_reverse_pairs.html">sample_reverse_pairs()</a></code> with
<code>reverse_pct = 1</code> to build a fully “reversed” set, where
SAMPLE_1 and SAMPLE_2 are swapped for all pairs.</li>
</ul>
</li>
<li>
<p><strong>Prompt templates</strong></p>
<ul>
<li>Define multiple templates (e.g.,
<code>"test1"</code>–<code>"test5"</code>) and register them in the
template registry.</li>
<li>Each template is a text file shipped with the package and accessed
via <code>get_prompt_template("testX")</code>.</li>
</ul>
</li>
<li>
<p><strong>Batch calls to LLM providers</strong></p>
<ul>
<li>
<p>For each combination of:</p>
<ul>
<li>Template (<code>test1</code>–<code>test5</code>)</li>
<li>Provider (Anthropic, Gemini, OpenAI)</li>
<li>Model (e.g., <code>claude-sonnet-4-5</code>, <code>gpt-4o</code>,
<code>gemini-3-pro-preview</code>)</li>
<li>Thinking configuration (<code>"no_thinking"</code> vs
<code>"with_thinking"</code>, where applicable)</li>
<li>Direction (<code>forward</code> vs <code>reverse</code>)</li>
</ul>
</li>
<li>
<p>Submit the forward and reverse pairs to the provider’s batch API
using dev scripts such as:</p>
<ul>
<li><code>dev/dev-anthropic-gemini-template-ab-test.R</code></li>
<li><code>dev/dev-openai-template-ab-test.R</code></li>
</ul>
</li>
<li><p>Store responses as CSVs, including the model’s
<code>&lt;BETTER_SAMPLE&gt;</code> decision and derived
<code>better_id</code>.</p></li>
</ul>
</li>
<li>
<p><strong>Reverse-order consistency</strong></p>
<ul>
<li>
<p>For each (template, provider, model, thinking), compare:</p>
<ul>
<li>The model’s decisions for a pair in the forward set</li>
<li>The decisions for the same pair in the reverse set (where positions
are swapped)</li>
</ul>
</li>
<li>
<p>Use <code><a href="../reference/compute_reverse_consistency.html">compute_reverse_consistency()</a></code> to compute:</p>
<ul>
<li>
<code>prop_consistent</code>: proportion of comparisons where
reversing the order yields the same <strong>underlying
winner</strong>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Positional bias statistics</strong></p>
<ul>
<li>
<p>Use <code><a href="../reference/check_positional_bias.html">check_positional_bias()</a></code> on the
reverse-consistency results to quantify:</p>
<ul>
<li>
<code>prop_pos1</code>: proportion of all comparisons where SAMPLE_1
is chosen as better.</li>
<li>
<code>p_sample1_overall</code>: p-value from a binomial test of
whether the probability of choosing SAMPLE_1 differs from 0.5.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Summarize and interpret</strong></p>
<ul>
<li>Aggregate the results across templates and models into a summary
table.</li>
<li>Look for templates with:
<ul>
<li>High <code>prop_consistent</code> (close to 1).</li>
<li>
<code>prop_pos1</code> close to 0.5.</li>
<li>Non-significant positional bias (<code>p_sample1_overall</code> not
&lt; .05).</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>In the sections below we show how to retrieve the templates, how they
are intended to be used, and how to examine the summary statistics for
the experiment.</p>
<hr>
</div>
<div class="section level2">
<h2 id="trait-descriptions-and-custom-traits">3. Trait descriptions and custom traits<a class="anchor" aria-label="anchor" href="#trait-descriptions-and-custom-traits"></a>
</h2>
<p>In the tests, we evaluated samples for overall quality.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">td</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trait_description.html">trait_description</a></span><span class="op">(</span><span class="st">"overall_quality"</span><span class="op">)</span></span>
<span><span class="va">td</span></span>
<span><span class="co">#&gt; $name</span></span>
<span><span class="co">#&gt; [1] "Overall Quality"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $description</span></span>
<span><span class="co">#&gt; [1] "Overall quality of the writing, considering how well ideas are expressed, how clearly the writing is organized, and how effective the language and conventions are."</span></span></code></pre></div>
<p>In <em>pairwiseLLM</em>, every pairwise comparison evaluates writing
samples on a <strong>trait</strong> — a specific dimension of writing
quality, such as:</p>
<ul>
<li><strong>Overall Quality</strong></li>
<li><strong>Organization</strong></li>
<li><strong>Development</strong></li>
<li><strong>Language</strong></li>
</ul>
<p>The trait determines <em>what the model should focus on</em> when
choosing which sample is better. Each trait has:</p>
<ul>
<li>a <strong>short name</strong> (e.g.,
<code>"overall_quality"</code>)</li>
<li>a <strong>human-readable name</strong> (e.g.,
<code>"Overall Quality"</code>)</li>
<li>a <strong>textual description</strong> used inside prompts</li>
</ul>
<p>The function that supplies these definitions is:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/trait_description.html">trait_description</a></span><span class="op">(</span><span class="va">name</span>, custom_name <span class="op">=</span> <span class="cn">NULL</span>, custom_description <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<hr>
<div class="section level3">
<h3 id="built-in-traits">3.1 Built-in traits<a class="anchor" aria-label="anchor" href="#built-in-traits"></a>
</h3>
<p>The package includes some predefined traits accessible by name:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/trait_description.html">trait_description</a></span><span class="op">(</span><span class="st">"overall_quality"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/trait_description.html">trait_description</a></span><span class="op">(</span><span class="st">"organization"</span><span class="op">)</span></span></code></pre></div>
<p>Calling a built-in trait returns a list with:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="sc">$</span>list</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="sc">$</span>name         <span class="co"># human-friendly name</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="sc">$</span>description  <span class="co"># the textual rubric used in prompts</span></span></code></pre></div>
<p>Example:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">td</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trait_description.html">trait_description</a></span><span class="op">(</span><span class="st">"organization"</span><span class="op">)</span></span>
<span><span class="va">td</span><span class="op">$</span><span class="va">name</span></span>
<span><span class="va">td</span><span class="op">$</span><span class="va">description</span></span></code></pre></div>
<p>This description is inserted into your chosen prompt template
wherever <code>{TRAIT_DESCRIPTION}</code> appears.</p>
<hr>
</div>
<div class="section level3">
<h3 id="setting-a-different-built-in-trait">3.2 Setting a different built-in trait<a class="anchor" aria-label="anchor" href="#setting-a-different-built-in-trait"></a>
</h3>
<p>To switch evaluations to another trait, simply pass its ID:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">td</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trait_description.html">trait_description</a></span><span class="op">(</span><span class="st">"organization"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">prompt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_prompt.html">build_prompt</a></span><span class="op">(</span></span>
<span>  template   <span class="op">=</span> <span class="fu"><a href="../reference/get_prompt_template.html">get_prompt_template</a></span><span class="op">(</span><span class="st">"test1"</span><span class="op">)</span>,</span>
<span>  trait_name <span class="op">=</span> <span class="va">td</span><span class="op">$</span><span class="va">name</span>,</span>
<span>  trait_desc <span class="op">=</span> <span class="va">td</span><span class="op">$</span><span class="va">description</span>,</span>
<span>  text1      <span class="op">=</span> <span class="va">sample1</span>,</span>
<span>  text2      <span class="op">=</span> <span class="va">sample2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This will automatically update all trait-specific wording in the
prompt.</p>
<hr>
</div>
<div class="section level3">
<h3 id="creating-a-custom-trait">3.3 Creating a custom trait<a class="anchor" aria-label="anchor" href="#creating-a-custom-trait"></a>
</h3>
<p>If your study requires a new writing dimension, you can define your
own trait directly in the call:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">td</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trait_description.html">trait_description</a></span><span class="op">(</span></span>
<span>  custom_name        <span class="op">=</span> <span class="st">"Clarity"</span>,</span>
<span>  custom_description <span class="op">=</span> <span class="st">"Clarity refers to how easily a reader can understand the writer's ideas, wording, and structure."</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">td</span><span class="op">$</span><span class="va">name</span></span>
<span><span class="co">#&gt; [1] "Clarity"</span></span>
<span></span>
<span><span class="va">td</span><span class="op">$</span><span class="va">description</span></span>
<span><span class="co">#&gt; [1] "Clarity refers to how easily ..."</span></span></code></pre></div>
<p>No built-in name needs to be supplied when using custom text:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prompt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_prompt.html">build_prompt</a></span><span class="op">(</span></span>
<span>  template   <span class="op">=</span> <span class="fu"><a href="../reference/get_prompt_template.html">get_prompt_template</a></span><span class="op">(</span><span class="st">"test2"</span><span class="op">)</span>,</span>
<span>  trait_name <span class="op">=</span> <span class="va">td</span><span class="op">$</span><span class="va">name</span>,</span>
<span>  trait_desc <span class="op">=</span> <span class="va">td</span><span class="op">$</span><span class="va">description</span>,</span>
<span>  text1      <span class="op">=</span> <span class="va">sample1</span>,</span>
<span>  text2      <span class="op">=</span> <span class="va">sample2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="why-traits-matter-for-positional-bias-testing">3.4 Why traits matter for positional bias testing<a class="anchor" aria-label="anchor" href="#why-traits-matter-for-positional-bias-testing"></a>
</h3>
<p>Traits determine the <strong>criterion of comparison</strong>, and
different traits may produce different sensitivity patterns in LLM
behavior. For example:</p>
<ul>
<li>“Overall Quality” may yield more stable results than
“Development”</li>
<li>Short, concise trait definitions may reduce positional bias</li>
<li>Custom traits allow experimentation with alternative rubric
wordings</li>
</ul>
<p>Because positional bias interacts with how the model interprets the
trait, <em>every trait–template combination</em> can be evaluated using
the same workflow described earlier in this vignette.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="example-data-used-in-tests">4. Example data used in tests<a class="anchor" aria-label="anchor" href="#example-data-used-in-tests"></a>
</h2>
<p>The positional-bias experiments in this vignette use the
<code>example_writing_samples</code> dataset that ships with the
package.</p>
<p>Each row represents a student writing sample and includes:</p>
<ul>
<li>an identifying ID,</li>
<li>a <code>text</code> field containing the full written response.</li>
</ul>
<p>Below we print the 20 writing samples included in the file.<br>
This dataset provides a reproducible testing base; in real applications,
you would use your own writing samples.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"example_writing_samples"</span>, package <span class="op">=</span> <span class="st">"pairwiseLLM"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Inspect the structure</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">example_writing_samples</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 20</span></span>
<span><span class="co">#&gt; Columns: 3</span></span>
<span><span class="co">#&gt; $ ID            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "S01"<span style="color: #949494;">, </span>"S02"<span style="color: #949494;">, </span>"S03"<span style="color: #949494;">, </span>"S04"<span style="color: #949494;">, </span>"S05"<span style="color: #949494;">, </span>"S06"<span style="color: #949494;">, </span>"S07"<span style="color: #949494;">, </span>"S08"<span style="color: #949494;">, </span>…</span></span>
<span><span class="co">#&gt; $ text          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Writing assessment is hard. People write different thin…</span></span>
<span><span class="co">#&gt; $ quality_score <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1<span style="color: #949494;">, </span>2<span style="color: #949494;">, </span>3<span style="color: #949494;">, </span>4<span style="color: #949494;">, </span>5<span style="color: #949494;">, </span>6<span style="color: #949494;">, </span>7<span style="color: #949494;">, </span>8<span style="color: #949494;">, </span>9<span style="color: #949494;">, </span>10<span style="color: #949494;">, </span>11<span style="color: #949494;">, </span>12<span style="color: #949494;">, </span>13<span style="color: #949494;">, </span>14<span style="color: #949494;">, </span>15<span style="color: #949494;">, </span>16<span style="color: #949494;">, </span>1…</span></span>
<span></span>
<span><span class="co"># Print the 20 samples (full text)</span></span>
<span><span class="va">example_writing_samples</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span></span>
<span>    caption <span class="op">=</span> <span class="st">"20 example writing samples included with pairwiseLLM."</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>20 example writing samples included with pairwiseLLM.</caption>
<colgroup>
<col width="1%">
<col width="95%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="left">ID</th>
<th align="left">text</th>
<th align="right">quality_score</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">S01</td>
<td align="left">Writing assessment is hard. People write different
things. It is confusing.</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">S02</td>
<td align="left">It is hard to grade writing. Some are long and some are
short. I do not know which is best.</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">S03</td>
<td align="left">Assessing writing is difficult because everyone writes
differently and it can be hard to decide what is good or bad.</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">S04</td>
<td align="left">Grading essays is tough work. You have to read a lot.
Sometimes the handwriting is bad or the grammar is wrong, and that makes
it hard to give a score.</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">S05</td>
<td align="left">Writing assessment is challenging because teachers must
judge ideas, organization, grammar, and style all at once. Different
raters may focus on different things.</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">S06</td>
<td align="left">It is difficult to assess writing because it is
subjective. One teacher might like a creative style while another
teacher wants a strict structure. This makes the scores unfair
sometimes.</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">S07</td>
<td align="left">Writing assessment is difficult because writing is a
complex skill. Raters must consider ideas, organization, style, and
conventions, and these features do not always align.</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">S08</td>
<td align="left">A paper with strong ideas might have weak grammar,
while another has flawless sentences but no clear argument. Deciding
which one deserves a higher score is a major challenge in
assessment.</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">S09</td>
<td align="left">Assessing writing is difficult because the construct is
multidimensional. Even with detailed rubrics, raters interpret criteria
differently, and their judgments can be influenced by fatigue or
expectations.</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">S10</td>
<td align="left">The difficulty in writing assessment lies in
consistency. Because raters bring their own background knowledge and
preferences to the task, achieving high inter-rater reliability requires
extensive training and calibration.</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">S11</td>
<td align="left">Writing assessment is difficult because we are trying
to compress a rich, multi-dimensional performance into a single score.
Raters must weigh content, organization, style, and mechanics, while
also dealing with time pressure.</td>
<td align="right">11</td>
</tr>
<tr class="even">
<td align="left">S12</td>
<td align="left">Evaluating writing is challenging because no rubric can
fully capture what makes a text effective for a particular audience. Two
essays might receive the same score for completely different reasons,
obscuring the feedback loop.</td>
<td align="right">12</td>
</tr>
<tr class="odd">
<td align="left">S13</td>
<td align="left">Writing assessment is difficult because it is
context-dependent. A style that works for a narrative is inappropriate
for a report. Raters must constantly adjust their internal standard
based on the specific purpose of the prompt.</td>
<td align="right">13</td>
</tr>
<tr class="even">
<td align="left">S14</td>
<td align="left">The challenge of writing assessment is distinguishing
between surface-level errors and deep structural flaws. Raters often
over-penalize mechanical mistakes while missing more significant issues
in logic or argumentation due to cognitive load.</td>
<td align="right">14</td>
</tr>
<tr class="odd">
<td align="left">S15</td>
<td align="left">Writing assessment is difficult because it sits at the
intersection of measurement and interpretation. Raters must translate
complex judgments about ideas, voice, and language into discrete rubric
categories, often losing nuance in the process.</td>
<td align="right">15</td>
</tr>
<tr class="even">
<td align="left">S16</td>
<td align="left">Assessing writing is inherently difficult because it
requires balancing consistency with sensitivity. A rubric describes
general qualities, but individual texts vary in genre and voice. Raters
must decide if an unconventional choice is a mistake or a stylistic
innovation.</td>
<td align="right">16</td>
</tr>
<tr class="odd">
<td align="left">S17</td>
<td align="left">Writing assessment is challenging because of the
trade-off between validity and reliability. Highly standardized scoring
protocols often strip away the subjective appreciation of voice and
creativity, while holistic scoring captures the ‘whole’ but risks being
unreliable.</td>
<td align="right">17</td>
</tr>
<tr class="even">
<td align="left">S18</td>
<td align="left">The fundamental difficulty in writing assessment is
cognitive complexity. The rater must construct a mental model of the
writer’s argument while simultaneously evaluating against specific
criteria. This dual processing makes the task prone to bias and halo
effects.</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">S19</td>
<td align="left">Writing assessment is difficult because it asks us to
quantify something fundamentally qualitative. To evaluate a piece of
writing, raters integrate judgments about content, organization, and
style, while also considering task demands. Scores often reflect both
the text and the rater’s implicit theory of writing.</td>
<td align="right">19</td>
</tr>
<tr class="even">
<td align="left">S20</td>
<td align="left">Writing assessment is inherently problematic because it
attempts to standardize a socially situated act. The assessment process
often decontextualizes the writing, stripping it of its communicative
purpose. Consequently, the score represents a construct of ‘school
writing’ rather than authentic communication, creating a validity gap
that simple psychometrics cannot resolve.</td>
<td align="right">20</td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="section level2">
<h2 id="built-in-prompt-templates">5. Built-in prompt templates<a class="anchor" aria-label="anchor" href="#built-in-prompt-templates"></a>
</h2>
<p>The tested templates are stored as plain-text files in the package
and exposed via the template registry. You can retrieve them with
<code><a href="../reference/get_prompt_template.html">get_prompt_template()</a></code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">template_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"test"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">template_ids</span></span>
<span><span class="co">#&gt; [1] "test1" "test2" "test3" "test4" "test5"</span></span></code></pre></div>
<p>Use <code><a href="../reference/get_prompt_template.html">get_prompt_template()</a></code> to view the text:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_prompt_template.html">get_prompt_template</a></span><span class="op">(</span><span class="st">"test1"</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">500</span><span class="op">)</span>, <span class="st">"...\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; You are a debate adjudicator. Your task is to weigh the comparative strengths of two writing samples regarding a specific trait.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; TRAIT: {TRAIT_NAME}</span></span>
<span><span class="co">#&gt; DEFINITION: {TRAIT_DESCRIPTION}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; SAMPLES:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === SAMPLE_1 ===</span></span>
<span><span class="co">#&gt; {SAMPLE_1}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === SAMPLE_2 ===</span></span>
<span><span class="co">#&gt; {SAMPLE_2}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; EVALUATION PROCESS (Mental Simulation):</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 1.  **Advocate for SAMPLE_1**: Mentally list the single strongest point of evidence that makes SAMPLE_1 the winner.</span></span>
<span><span class="co">#&gt; 2.  **Advocate for SAMPLE_2**: Mentally list the single strongest point of evidence that mak ...</span></span></code></pre></div>
<p>The same pattern works for all templates:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve another template</span></span>
<span><span class="va">tmpl_test3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_prompt_template.html">get_prompt_template</a></span><span class="op">(</span><span class="st">"test3"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use it to build a concrete prompt for a single comparison</span></span>
<span><span class="va">pairs</span> <span class="op">&lt;-</span> <span class="va">example_writing_samples</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/make_pairs.html">make_pairs</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">prompt_text</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_prompt.html">build_prompt</a></span><span class="op">(</span></span>
<span>  template   <span class="op">=</span> <span class="va">tmpl_test3</span>,</span>
<span>  trait_name <span class="op">=</span> <span class="va">td</span><span class="op">$</span><span class="va">name</span>,</span>
<span>  trait_desc <span class="op">=</span> <span class="va">td</span><span class="op">$</span><span class="va">description</span>,</span>
<span>  text1      <span class="op">=</span> <span class="va">pairs</span><span class="op">$</span><span class="va">text1</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  text2      <span class="op">=</span> <span class="va">pairs</span><span class="op">$</span><span class="va">text2</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">prompt_text</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="forward-and-reverse-pairs">6. Forward and reverse pairs<a class="anchor" aria-label="anchor" href="#forward-and-reverse-pairs"></a>
</h2>
<p>Here is a small example of how we constructed forward and reverse
datasets for each experiment:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pairs_all</span> <span class="op">&lt;-</span> <span class="va">example_writing_samples</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/make_pairs.html">make_pairs</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pairs_forward</span> <span class="op">&lt;-</span> <span class="va">pairs_all</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/alternate_pair_order.html">alternate_pair_order</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pairs_reverse</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sample_reverse_pairs.html">sample_reverse_pairs</a></span><span class="op">(</span></span>
<span>  <span class="va">pairs_forward</span>,</span>
<span>  reverse_pct <span class="op">=</span> <span class="fl">1.0</span>,</span>
<span>  seed        <span class="op">=</span> <span class="fl">2002</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">pairs_forward</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ID1"</span>, <span class="st">"ID2"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;   ID1   ID2  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> S01   S02  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> S03   S01  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> S01   S04</span></span>
<span><span class="va">pairs_reverse</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ID1"</span>, <span class="st">"ID2"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;   ID1   ID2  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> S18   S02  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> S18   S06  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> S07   S08</span></span></code></pre></div>
<p>In <code>pairs_reverse</code>, SAMPLE_1 and SAMPLE_2 are swapped for
every pair relative to <code>pairs_forward</code>. All other metadata
(IDs, traits, etc.) remain consistent so that we can compare results
pairwise.</p>
<hr>
</div>
<div class="section level2">
<h2 id="thinking-reasoning-configurations-used-in-testing">7. Thinking / Reasoning Configurations Used in Testing<a class="anchor" aria-label="anchor" href="#thinking-reasoning-configurations-used-in-testing"></a>
</h2>
<p>Many LLM providers now expose <em>reasoning-enhanced</em> decoding
modes (sometimes called “thinking,” “chain-of-thought modules,” or
“structured reasoning engines”).<br>
In <code>pairwiseLLM</code>, these modes are exposed through a simple
parameter:</p>
<pre><code><span><span class="va">thinking</span> <span class="op">=</span> <span class="st">"no_thinking"</span>   <span class="co"># standard inference mode  </span></span>
<span><span class="va">thinking</span> <span class="op">=</span> <span class="st">"with_thinking"</span> <span class="co"># activates provider's reasoning system</span></span></code></pre>
<p>However, the <em>actual meaning</em> of these settings is
<strong>provider-specific</strong>. Below we describe the exact
configurations used in our positional-bias tests.</p>
<hr>
<div class="section level3">
<h3 id="anthropic-claude-4-5-models">7.1 Anthropic (Claude 4.5 models)<a class="anchor" aria-label="anchor" href="#anthropic-claude-4-5-models"></a>
</h3>
<p>Anthropic’s batch API allows explicit control over the reasoning
system.</p>
<div class="section level4">
<h4 id="thinking-no_thinking">
<code>thinking = "no_thinking"</code><a class="anchor" aria-label="anchor" href="#thinking-no_thinking"></a>
</h4>
<ul>
<li><code>reasoning = "none"</code></li>
<li>
<code>temperature = 0</code><br>
</li>
<li>Thinking tokens disabled<br>
</li>
<li>Intended to give <strong>deterministic</strong> behavior</li>
</ul>
</div>
<div class="section level4">
<h4 id="thinking-with_thinking">
<code>thinking = "with_thinking"</code><a class="anchor" aria-label="anchor" href="#thinking-with_thinking"></a>
</h4>
<ul>
<li><code>reasoning = "enabled"</code></li>
<li><code>temperature = 1</code></li>
<li><code>include_thoughts = TRUE</code></li>
<li>
<code>thinking_budget = 1024</code> (max internal reasoning
tokens)</li>
<li>Produces Claude’s full structured reasoning trace (not returned to
the user)</li>
</ul>
<p>This mode yields <strong>more reflective but less
deterministic</strong> decisions.</p>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="gemini-3-pro-preview">7.2 Gemini 3 Pro Preview<a class="anchor" aria-label="anchor" href="#gemini-3-pro-preview"></a>
</h3>
<p>Gemini’s batch API exposes reasoning through the
<code>thinkingLevel</code> field.</p>
<div class="section level4">
<h4 id="only-thinking-with_thinking-was-used">Only <code>thinking = "with_thinking"</code> was used<a class="anchor" aria-label="anchor" href="#only-thinking-with_thinking-was-used"></a>
</h4>
<p>Settings used:</p>
<ul>
<li>
<code>thinkingLevel = "low"</code><br>
</li>
<li>
<code>includeThoughts = TRUE</code><br>
</li>
<li>
<code>temperature</code> left at <strong>provider
default</strong><br>
</li>
<li>Gemini’s structured reasoning is stored internally for bias
testing</li>
</ul>
<p>This yields lightweight reasoning comparable to Anthropic’s enabled
mode.</p>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="openai-gpt-4-1-gpt-4o-gpt-5-1">7.3 OpenAI (gpt-4.1, gpt-4o, gpt-5.1)<a class="anchor" aria-label="anchor" href="#openai-gpt-4-1-gpt-4o-gpt-5-1"></a>
</h3>
<p>OpenAI supports two distinct APIs:</p>
<ol style="list-style-type: decimal">
<li>
<strong><code>chat.completions</code></strong> — standard
inference<br>
</li>
<li>
<strong><code>responses</code></strong> — reasoning-enabled
(formerly “Chain of Thought” via <code>o-series</code>)</li>
</ol>
<div class="section level4">
<h4 id="thinking-no_thinking-1">
<code>thinking = "no_thinking"</code><a class="anchor" aria-label="anchor" href="#thinking-no_thinking-1"></a>
</h4>
<p>Used for <strong>all models</strong>, including gpt-5.1:</p>
<ul>
<li>Endpoint: <code>chat.completions</code>
</li>
<li><code>temperature = 0</code></li>
<li>No reasoning traces<br>
</li>
<li>Most <strong>deterministic mode</strong>, ideal for repeatable
scoring</li>
</ul>
</div>
<div class="section level4">
<h4 id="thinking-with_thinking-gpt-5-1-only">
<code>thinking = "with_thinking"</code> (gpt-5.1 only)<a class="anchor" aria-label="anchor" href="#thinking-with_thinking-gpt-5-1-only"></a>
</h4>
<ul>
<li>Endpoint: <code>responses</code><br>
</li>
<li>
<code>reasoning = "low"</code><br>
</li>
<li>
<code>include_thoughts = TRUE</code><br>
</li>
<li>No explicit <code>temperature</code> parameter (OpenAI ignores it
for this endpoint)</li>
</ul>
<p>This mode returns reasoning metadata that is stripped prior to
analysis.</p>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="summary-table-of-provider-specific-behavior">7.4 Summary Table of Provider-Specific Behavior<a class="anchor" aria-label="anchor" href="#summary-table-of-provider-specific-behavior"></a>
</h3>
<table style="width:100%;" class="table">
<colgroup>
<col width="14%">
<col width="28%">
<col width="23%">
<col width="23%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th>Provider</th>
<th>Thinking Mode</th>
<th>What It Controls</th>
<th>Temperature Used</th>
<th>Notes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Anthropic</td>
<td>no_thinking</td>
<td>reasoning=none, no thoughts</td>
<td><strong>0</strong></td>
<td>deterministic</td>
</tr>
<tr class="even">
<td>Anthropic</td>
<td>with_thinking</td>
<td>reasoning enabled, thoughts included, budget=1024</td>
<td><strong>1</strong></td>
<td>rich internal reasoning</td>
</tr>
<tr class="odd">
<td>Gemini</td>
<td>with_thinking only</td>
<td>thinkingLevel=“low”, includeThoughts</td>
<td>provider default</td>
<td>batch API does not support pure no-thinking mode</td>
</tr>
<tr class="even">
<td>OpenAI</td>
<td>no_thinking</td>
<td>chat.completions, no reasoning</td>
<td><strong>0</strong></td>
<td>deterministic</td>
</tr>
<tr class="odd">
<td>OpenAI</td>
<td>with_thinking (5.1)</td>
<td>responses API with reasoning=low</td>
<td>ignored / N/A</td>
<td>only applied to gpt-5.1</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="loading-summary-results">8. Loading summary results<a class="anchor" aria-label="anchor" href="#loading-summary-results"></a>
</h2>
<p>The results from the experiments are stored in a CSV included in the
package (for example, under
<code>inst/extdata/template_test_summary.csv</code>). We load and
lightly clean that file here.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"extdata"</span>,</span>
<span>  <span class="st">"template_test_summary.csv"</span>,</span>
<span>  package <span class="op">=</span> <span class="st">"pairwiseLLM"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">summary_tbl</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="va">summary_path</span>, show_col_types <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    provider <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="va">provider</span> <span class="op">==</span> <span class="st">""</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">provider</span><span class="op">)</span>, <span class="st">"openai"</span>, <span class="va">provider</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">summary_tbl</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 7</span></span></span>
<span><span class="co">#&gt;   template_id provider  model             thinking     prop_consistent prop_pos1</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> test1       anthropic claude-sonnet-4-5 no_thinking            0.895     0.505</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> test1       anthropic claude-sonnet-4-5 with_thinki…           0.932     0.497</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> test1       anthropic claude-haiku-4-5  no_thinking            0.884     0.516</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> test1       anthropic claude-haiku-4-5  with_thinki…           0.905     0.484</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> test1       anthropic claude-opus-4-5   no_thinking            0.884     0.442</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> test1       anthropic claude-opus-4-5   with_thinki…           0.884     0.447</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: p_sample1_overall &lt;dbl&gt;</span></span></span></code></pre></div>
<hr>
<div class="section level3">
<h3 id="column-definitions">8.1 Column definitions<a class="anchor" aria-label="anchor" href="#column-definitions"></a>
</h3>
<p>The columns in <code>summary_tbl</code> are:</p>
<ul>
<li><p><strong><code>template_id</code></strong><br>
ID of the prompt template (e.g., <code>"test1"</code>).</p></li>
<li><p><strong><code>provider</code></strong><br>
LLM provider (<code>"anthropic"</code>, <code>"gemini"</code>,
<code>"openai"</code>).</p></li>
<li><p><strong><code>model</code></strong><br>
Specific model (e.g., <code>"claude-sonnet-4-5"</code>,
<code>"gpt-4o"</code>, <code>"gemini-3-pro-preview"</code>).</p></li>
<li><p><strong><code>thinking</code></strong><br>
Reasoning configuration (usually <code>"no_thinking"</code> or
<code>"with_thinking"</code>). The exact meaning depends on the provider
and dev script (for example, reasoning turned on vs off, or
thinking-level settings for Gemini).</p></li>
<li><p><strong><code>prop_consistent</code></strong><br>
Proportion of comparisons that remained consistent when the pair order
was reversed. Higher values indicate greater order-invariance.</p></li>
<li><p><strong><code>prop_pos1</code></strong><br>
Proportion of comparisons where SAMPLE_1 was chosen as better. Values
near 0.5 indicate little or no positional bias toward the first
position.</p></li>
<li><p><strong><code>p_sample1_overall</code></strong><br>
p-value from a binomial test of whether the probability of choosing
SAMPLE_1 differs from 0.5. Smaller p-values suggest that the observed
preference (for or against SAMPLE_1) is unlikely to be due to chance
alone.</p></li>
</ul>
<hr>
</div>
<div class="section level3">
<h3 id="interpreting-the-statistics">8.2 Interpreting the statistics<a class="anchor" aria-label="anchor" href="#interpreting-the-statistics"></a>
</h3>
<p>The three key statistics for each (template, provider, model,
thinking) combination are:</p>
<ol style="list-style-type: decimal">
<li>
<p><strong>Proportion consistent
(<code>prop_consistent</code>)</strong></p>
<ul>
<li>Measures how often the underlying winner remains the same when a
pair is presented forward vs reversed.</li>
<li>Values close to 1 indicate strong order-invariance.</li>
<li>In practice, values above roughly 0.90 are generally
reassuring.</li>
</ul>
</li>
<li>
<p><strong>Proportion choosing SAMPLE_1
(<code>prop_pos1</code>)</strong></p>
<ul>
<li>Measures how often the model selects the first position as
better.</li>
<li>A value near 0.5 suggests little or no positional bias.</li>
<li>Values substantially above 0.5 suggest a systematic preference for
SAMPLE_1; values substantially below 0.5 suggest a preference for
SAMPLE_2.</li>
</ul>
</li>
<li>
<p><strong>Binomial test p-value
(<code>p_sample1_overall</code>)</strong></p>
<ul>
<li>Tests the null hypothesis that the true probability of choosing
SAMPLE_1 is 0.5.</li>
<li>Small p-values (e.g., &lt; 0.05) provide evidence of positional
bias.</li>
<li>Large p-values indicate that any deviation from 0.5 may be due to
random variation.</li>
</ul>
</li>
</ol>
<p>As an example, a row with:</p>
<ul>
<li>
<code>prop_consistent = 0.93</code><br>
</li>
<li>
<code>prop_pos1 = 0.48</code><br>
</li>
<li><code>p_sample1_overall = 0.57</code></li>
</ul>
<p>suggests:</p>
<ul>
<li>Very high reverse-order consistency.<br>
</li>
<li>No strong evidence of a first-position bias (probability of choosing
SAMPLE_1 is not significantly different from 0.5).</li>
</ul>
<p>By contrast, a row with:</p>
<ul>
<li>
<code>prop_consistent = 0.83</code><br>
</li>
<li>
<code>prop_pos1 = 0.42</code><br>
</li>
<li><code>p_sample1_overall = 0.001</code></li>
</ul>
<p>would suggest:</p>
<ul>
<li>Somewhat lower consistency.<br>
</li>
<li>A statistically significant bias <em>against</em> SAMPLE_1 (the
model prefers SAMPLE_2).</li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="summary-results-by-prompt">9. Summary results by prompt<a class="anchor" aria-label="anchor" href="#summary-results-by-prompt"></a>
</h2>
<p>In this section we present, for each template:</p>
<ol style="list-style-type: decimal">
<li><p>The full template text (as used in the experiments).<br></p></li>
<li>
<p>A simple summary table with one row per (provider, model,
thinking) configuration and columns:</p>
<ul>
<li>
<code>Provider</code><br>
</li>
<li>
<code>Model</code><br>
</li>
<li>
<code>Thinking</code><br>
</li>
<li>
<code>Prop_Consistent</code><br>
</li>
<li>
<code>Prop_SAMPLE_1</code><br>
</li>
<li><code>Binomial_Test_p</code></li>
</ul>
</li>
</ol>
<p>You can regenerate these tables programmatically whenever you rerun
the experiments.</p>
<hr>
<div class="section level3">
<h3 id="template-test1">9.1 Template <code>test1</code><a class="anchor" aria-label="anchor" href="#template-test1"></a>
</h3>
<div class="section level4">
<h4 id="template-text">9.1.1 Template text<a class="anchor" aria-label="anchor" href="#template-text"></a>
</h4>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_prompt_template.html">get_prompt_template</a></span><span class="op">(</span><span class="st">"test1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; You are a debate adjudicator. Your task is to weigh the comparative strengths of two writing samples regarding a specific trait.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; TRAIT: {TRAIT_NAME}</span></span>
<span><span class="co">#&gt; DEFINITION: {TRAIT_DESCRIPTION}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; SAMPLES:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === SAMPLE_1 ===</span></span>
<span><span class="co">#&gt; {SAMPLE_1}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === SAMPLE_2 ===</span></span>
<span><span class="co">#&gt; {SAMPLE_2}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; EVALUATION PROCESS (Mental Simulation):</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 1.  **Advocate for SAMPLE_1**: Mentally list the single strongest point of evidence that makes SAMPLE_1 the winner.</span></span>
<span><span class="co">#&gt; 2.  **Advocate for SAMPLE_2**: Mentally list the single strongest point of evidence that makes SAMPLE_2 the winner.</span></span>
<span><span class="co">#&gt; 3.  **Adjudicate**: Compare the *strength of the evidence* identified in steps 1 and 2. Which sample provided the more compelling demonstration of the definition above?</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; CRITICAL:</span></span>
<span><span class="co">#&gt; - You must construct a mental argument for BOTH samples before deciding.</span></span>
<span><span class="co">#&gt; - Do not default to the first sample read.</span></span>
<span><span class="co">#&gt; - If the samples are close, strictly follow the trait definition to break the tie.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; FINAL DECISION:</span></span>
<span><span class="co">#&gt; Output your decision based on the stronger evidence.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &lt;BETTER_SAMPLE&gt;SAMPLE_1&lt;/BETTER_SAMPLE&gt;</span></span>
<span><span class="co">#&gt; OR</span></span>
<span><span class="co">#&gt; &lt;BETTER_SAMPLE&gt;SAMPLE_2&lt;/BETTER_SAMPLE&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Provide only the XML tag).</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="summary-table">9.1.2 Summary table<a class="anchor" aria-label="anchor" href="#summary-table"></a>
</h4>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_tbl</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">template_id</span> <span class="op">==</span> <span class="st">"test1"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">provider</span>, <span class="va">model</span>, <span class="va">thinking</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Prop_Consistent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_consistent</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Prop_SAMPLE_1   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_pos1</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Binomial_Test_p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif</a></span><span class="op">(</span><span class="va">p_sample1_overall</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    Provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>    Model    <span class="op">=</span> <span class="va">model</span>,</span>
<span>    Thinking <span class="op">=</span> <span class="va">thinking</span>,</span>
<span>    <span class="va">Prop_Consistent</span>,</span>
<span>    <span class="va">Prop_SAMPLE_1</span>,</span>
<span>    <span class="va">Binomial_Test_p</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="23%">
<col width="15%">
<col width="17%">
<col width="15%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th align="left">Provider</th>
<th align="left">Model</th>
<th align="left">Thinking</th>
<th align="right">Prop_Consistent</th>
<th align="right">Prop_SAMPLE_1</th>
<th align="right">Binomial_Test_p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.516</td>
<td align="right">0.57300</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.905</td>
<td align="right">0.484</td>
<td align="right">0.57300</td>
</tr>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-opus-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.442</td>
<td align="right">0.02730</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-opus-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.884</td>
<td align="right">0.447</td>
<td align="right">0.04530</td>
</tr>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.895</td>
<td align="right">0.505</td>
<td align="right">0.87800</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.932</td>
<td align="right">0.497</td>
<td align="right">0.95900</td>
</tr>
<tr class="odd">
<td align="left">gemini</td>
<td align="left">gemini-3-pro-preview</td>
<td align="left">with_thinking</td>
<td align="right">0.926</td>
<td align="right">0.521</td>
<td align="right">0.44200</td>
</tr>
<tr class="even">
<td align="left">openai</td>
<td align="left">gpt-4.1</td>
<td align="left">no_thinking</td>
<td align="right">0.937</td>
<td align="right">0.479</td>
<td align="right">0.44200</td>
</tr>
<tr class="odd">
<td align="left">openai</td>
<td align="left">gpt-4o</td>
<td align="left">no_thinking</td>
<td align="right">0.837</td>
<td align="right">0.418</td>
<td align="right">0.00172</td>
</tr>
<tr class="even">
<td align="left">openai</td>
<td align="left">gpt-5.1</td>
<td align="left">no_thinking</td>
<td align="right">0.926</td>
<td align="right">0.474</td>
<td align="right">0.33000</td>
</tr>
<tr class="odd">
<td align="left">openai</td>
<td align="left">gpt-5.1</td>
<td align="left">with_thinking</td>
<td align="right">0.858</td>
<td align="right">0.429</td>
<td align="right">0.00648</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="template-test2">9.2 Template <code>test2</code><a class="anchor" aria-label="anchor" href="#template-test2"></a>
</h3>
<div class="section level4">
<h4 id="template-text-1">9.2.1 Template text<a class="anchor" aria-label="anchor" href="#template-text-1"></a>
</h4>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_prompt_template.html">get_prompt_template</a></span><span class="op">(</span><span class="st">"test2"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; You are an impartial, expert writing evaluator. You will be provided with two student writing samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; YOUR GOAL: Identify which sample is better regarding {TRAIT_NAME}.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ***</span></span>
<span><span class="co">#&gt; SAMPLE_1 START</span></span>
<span><span class="co">#&gt; ***</span></span>
<span><span class="co">#&gt; {SAMPLE_1}</span></span>
<span><span class="co">#&gt; ***</span></span>
<span><span class="co">#&gt; SAMPLE_1 END</span></span>
<span><span class="co">#&gt; ***</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ***</span></span>
<span><span class="co">#&gt; SAMPLE_2 START</span></span>
<span><span class="co">#&gt; ***</span></span>
<span><span class="co">#&gt; {SAMPLE_2}</span></span>
<span><span class="co">#&gt; ***</span></span>
<span><span class="co">#&gt; SAMPLE_2 END</span></span>
<span><span class="co">#&gt; ***</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; EVALUATION CRITERIA:</span></span>
<span><span class="co">#&gt; Trait: {TRAIT_NAME}</span></span>
<span><span class="co">#&gt; Definition: {TRAIT_DESCRIPTION}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; DECISION PROTOCOL:</span></span>
<span><span class="co">#&gt; 1. Ignore the order in which the samples appeared.</span></span>
<span><span class="co">#&gt; 2. Mentally 'shuffle' the samples. If Sample 1 was read second, would it still be better/worse?</span></span>
<span><span class="co">#&gt; 3. Focus STRICTLY on the definition above. Ignore length, vocabulary complexity, or style unless explicitly mentioned in the definition.</span></span>
<span><span class="co">#&gt; 4. If the samples are effectively tied, scrutinize them for the slightest advantage in {TRAIT_NAME} to break the tie.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; OUTPUT FORMAT:</span></span>
<span><span class="co">#&gt; You must output ONLY one of the following tags. Do not produce any other text, reasoning, or preamble.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &lt;BETTER_SAMPLE&gt;SAMPLE_1&lt;/BETTER_SAMPLE&gt;</span></span>
<span><span class="co">#&gt; or</span></span>
<span><span class="co">#&gt; &lt;BETTER_SAMPLE&gt;SAMPLE_2&lt;/BETTER_SAMPLE&gt;</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="summary-table-1">9.2.2 Summary table<a class="anchor" aria-label="anchor" href="#summary-table-1"></a>
</h4>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_tbl</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">template_id</span> <span class="op">==</span> <span class="st">"test2"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">provider</span>, <span class="va">model</span>, <span class="va">thinking</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Prop_Consistent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_consistent</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Prop_SAMPLE_1   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_pos1</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Binomial_Test_p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif</a></span><span class="op">(</span><span class="va">p_sample1_overall</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    Provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>    Model    <span class="op">=</span> <span class="va">model</span>,</span>
<span>    Thinking <span class="op">=</span> <span class="va">thinking</span>,</span>
<span>    <span class="va">Prop_Consistent</span>,</span>
<span>    <span class="va">Prop_SAMPLE_1</span>,</span>
<span>    <span class="va">Binomial_Test_p</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="23%">
<col width="15%">
<col width="17%">
<col width="15%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th align="left">Provider</th>
<th align="left">Model</th>
<th align="left">Thinking</th>
<th align="right">Prop_Consistent</th>
<th align="right">Prop_SAMPLE_1</th>
<th align="right">Binomial_Test_p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.863</td>
<td align="right">0.442</td>
<td align="right">0.02730</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.932</td>
<td align="right">0.487</td>
<td align="right">0.64400</td>
</tr>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-opus-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.895</td>
<td align="right">0.458</td>
<td align="right">0.11200</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-opus-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.926</td>
<td align="right">0.474</td>
<td align="right">0.33000</td>
</tr>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.926</td>
<td align="right">0.468</td>
<td align="right">0.23800</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.916</td>
<td align="right">0.484</td>
<td align="right">0.57300</td>
</tr>
<tr class="odd">
<td align="left">gemini</td>
<td align="left">gemini-3-pro-preview</td>
<td align="left">with_thinking</td>
<td align="right">0.879</td>
<td align="right">0.561</td>
<td align="right">0.02090</td>
</tr>
<tr class="even">
<td align="left">openai</td>
<td align="left">gpt-4.1</td>
<td align="left">no_thinking</td>
<td align="right">0.932</td>
<td align="right">0.466</td>
<td align="right">0.20000</td>
</tr>
<tr class="odd">
<td align="left">openai</td>
<td align="left">gpt-4o</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.442</td>
<td align="right">0.02730</td>
</tr>
<tr class="even">
<td align="left">openai</td>
<td align="left">gpt-5.1</td>
<td align="left">no_thinking</td>
<td align="right">0.853</td>
<td align="right">0.426</td>
<td align="right">0.00472</td>
</tr>
<tr class="odd">
<td align="left">openai</td>
<td align="left">gpt-5.1</td>
<td align="left">with_thinking</td>
<td align="right">0.853</td>
<td align="right">0.426</td>
<td align="right">0.00472</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="template-test3">9.3 Template <code>test3</code><a class="anchor" aria-label="anchor" href="#template-test3"></a>
</h3>
<div class="section level4">
<h4 id="template-text-2">9.3.1 Template text<a class="anchor" aria-label="anchor" href="#template-text-2"></a>
</h4>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_prompt_template.html">get_prompt_template</a></span><span class="op">(</span><span class="st">"test3"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; You are an expert writing assessor.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Your task: Determine which of two writing samples demonstrates superior {TRAIT_NAME}.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; {TRAIT_NAME} is defined as:</span></span>
<span><span class="co">#&gt; {TRAIT_DESCRIPTION}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Below are two samples. They appear in arbitrary order—neither position indicates quality.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ═══════════════════════════════════════</span></span>
<span><span class="co">#&gt; FIRST SAMPLE:</span></span>
<span><span class="co">#&gt; {SAMPLE_1}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ═══════════════════════════════════════</span></span>
<span><span class="co">#&gt; SECOND SAMPLE:</span></span>
<span><span class="co">#&gt; {SAMPLE_2}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ═══════════════════════════════════════</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ASSESSMENT PROTOCOL:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Step 1: Read both samples in their entirety.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Step 2: For each sample independently, assess the degree to which it demonstrates {TRAIT_NAME} based solely on the definition provided.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Step 3: Compare your assessments. Determine which sample shows stronger {TRAIT_NAME}.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Step 4: Select the sample with better {TRAIT_NAME}. If extremely close, choose the one with any detectable advantage. No ties are allowed.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Step 5: Verify your selection reflects the CONTENT quality, not the presentation order.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; RESPONSE FORMAT:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Respond with exactly one line using this format:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &lt;BETTER_SAMPLE&gt;SAMPLE_1&lt;/BETTER_SAMPLE&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; if the first sample is better, OR</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &lt;BETTER_SAMPLE&gt;SAMPLE_2&lt;/BETTER_SAMPLE&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; if the second sample is better.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Output only the XML tag with your choice. No explanations or additional text.</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="summary-table-2">9.3.2 Summary table<a class="anchor" aria-label="anchor" href="#summary-table-2"></a>
</h4>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_tbl</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">template_id</span> <span class="op">==</span> <span class="st">"test3"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">provider</span>, <span class="va">model</span>, <span class="va">thinking</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Prop_Consistent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_consistent</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Prop_SAMPLE_1   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_pos1</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Binomial_Test_p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif</a></span><span class="op">(</span><span class="va">p_sample1_overall</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    Provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>    Model    <span class="op">=</span> <span class="va">model</span>,</span>
<span>    Thinking <span class="op">=</span> <span class="va">thinking</span>,</span>
<span>    <span class="va">Prop_Consistent</span>,</span>
<span>    <span class="va">Prop_SAMPLE_1</span>,</span>
<span>    <span class="va">Binomial_Test_p</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="23%">
<col width="15%">
<col width="17%">
<col width="15%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th align="left">Provider</th>
<th align="left">Model</th>
<th align="left">Thinking</th>
<th align="right">Prop_Consistent</th>
<th align="right">Prop_SAMPLE_1</th>
<th align="right">Binomial_Test_p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.921</td>
<td align="right">0.461</td>
<td align="right">0.1370</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.916</td>
<td align="right">0.463</td>
<td align="right">0.1660</td>
</tr>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-opus-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.905</td>
<td align="right">0.463</td>
<td align="right">0.1660</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-opus-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.916</td>
<td align="right">0.463</td>
<td align="right">0.1660</td>
</tr>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.453</td>
<td align="right">0.0724</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.937</td>
<td align="right">0.489</td>
<td align="right">0.7200</td>
</tr>
<tr class="odd">
<td align="left">gemini</td>
<td align="left">gemini-3-pro-preview</td>
<td align="left">with_thinking</td>
<td align="right">0.911</td>
<td align="right">0.545</td>
<td align="right">0.0903</td>
</tr>
<tr class="even">
<td align="left">openai</td>
<td align="left">gpt-4.1</td>
<td align="left">no_thinking</td>
<td align="right">0.916</td>
<td align="right">0.458</td>
<td align="right">0.1120</td>
</tr>
<tr class="odd">
<td align="left">openai</td>
<td align="left">gpt-4o</td>
<td align="left">no_thinking</td>
<td align="right">0.832</td>
<td align="right">0.416</td>
<td align="right">0.0012</td>
</tr>
<tr class="even">
<td align="left">openai</td>
<td align="left">gpt-5.1</td>
<td align="left">no_thinking</td>
<td align="right">0.879</td>
<td align="right">0.445</td>
<td align="right">0.0353</td>
</tr>
<tr class="odd">
<td align="left">openai</td>
<td align="left">gpt-5.1</td>
<td align="left">with_thinking</td>
<td align="right">0.863</td>
<td align="right">0.432</td>
<td align="right">0.0088</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="template-test4">9.4 Template <code>test4</code><a class="anchor" aria-label="anchor" href="#template-test4"></a>
</h3>
<div class="section level4">
<h4 id="template-text-3">9.4.1 Template text<a class="anchor" aria-label="anchor" href="#template-text-3"></a>
</h4>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_prompt_template.html">get_prompt_template</a></span><span class="op">(</span><span class="st">"test4"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; You are an expert writing assessor.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Evaluate which sample better demonstrates {TRAIT_NAME}.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; {TRAIT_NAME}: {TRAIT_DESCRIPTION}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; SAMPLE 1:</span></span>
<span><span class="co">#&gt; {SAMPLE_1}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; SAMPLE 2:</span></span>
<span><span class="co">#&gt; {SAMPLE_2}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; TASK:</span></span>
<span><span class="co">#&gt; - Assess both samples on {TRAIT_NAME} only</span></span>
<span><span class="co">#&gt; - Choose the sample with stronger {TRAIT_NAME}</span></span>
<span><span class="co">#&gt; - If nearly equal, select the marginally better one</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; The samples above appear in random order. Base your judgment only on which content better demonstrates {TRAIT_NAME}, not on position.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Respond with only one line:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &lt;BETTER_SAMPLE&gt;SAMPLE_1&lt;/BETTER_SAMPLE&gt; if Sample 1 is better</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &lt;BETTER_SAMPLE&gt;SAMPLE_2&lt;/BETTER_SAMPLE&gt; if Sample 2 is better</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="summary-table-3">9.4.2 Summary table<a class="anchor" aria-label="anchor" href="#summary-table-3"></a>
</h4>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_tbl</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">template_id</span> <span class="op">==</span> <span class="st">"test4"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">provider</span>, <span class="va">model</span>, <span class="va">thinking</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Prop_Consistent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_consistent</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Prop_SAMPLE_1   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_pos1</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Binomial_Test_p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif</a></span><span class="op">(</span><span class="va">p_sample1_overall</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    Provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>    Model    <span class="op">=</span> <span class="va">model</span>,</span>
<span>    Thinking <span class="op">=</span> <span class="va">thinking</span>,</span>
<span>    <span class="va">Prop_Consistent</span>,</span>
<span>    <span class="va">Prop_SAMPLE_1</span>,</span>
<span>    <span class="va">Binomial_Test_p</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="23%">
<col width="15%">
<col width="17%">
<col width="15%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th align="left">Provider</th>
<th align="left">Model</th>
<th align="left">Thinking</th>
<th align="right">Prop_Consistent</th>
<th align="right">Prop_SAMPLE_1</th>
<th align="right">Binomial_Test_p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.937</td>
<td align="right">0.468</td>
<td align="right">0.23800</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.937</td>
<td align="right">0.474</td>
<td align="right">0.32800</td>
</tr>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-opus-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.900</td>
<td align="right">0.461</td>
<td align="right">0.13700</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-opus-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.895</td>
<td align="right">0.458</td>
<td align="right">0.11200</td>
</tr>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.911</td>
<td align="right">0.461</td>
<td align="right">0.13700</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.900</td>
<td align="right">0.482</td>
<td align="right">0.50500</td>
</tr>
<tr class="odd">
<td align="left">gemini</td>
<td align="left">gemini-3-pro-preview</td>
<td align="left">with_thinking</td>
<td align="right">0.916</td>
<td align="right">0.542</td>
<td align="right">0.11200</td>
</tr>
<tr class="even">
<td align="left">openai</td>
<td align="left">gpt-4.1</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.442</td>
<td align="right">0.02730</td>
</tr>
<tr class="odd">
<td align="left">openai</td>
<td align="left">gpt-4o</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.442</td>
<td align="right">0.02730</td>
</tr>
<tr class="even">
<td align="left">openai</td>
<td align="left">gpt-5.1</td>
<td align="left">no_thinking</td>
<td align="right">0.858</td>
<td align="right">0.429</td>
<td align="right">0.00648</td>
</tr>
<tr class="odd">
<td align="left">openai</td>
<td align="left">gpt-5.1</td>
<td align="left">with_thinking</td>
<td align="right">0.832</td>
<td align="right">0.416</td>
<td align="right">0.00120</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="template-test5">9.5 Template <code>test5</code><a class="anchor" aria-label="anchor" href="#template-test5"></a>
</h3>
<div class="section level4">
<h4 id="template-text-4">9.5.1 Template text<a class="anchor" aria-label="anchor" href="#template-text-4"></a>
</h4>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_prompt_template.html">get_prompt_template</a></span><span class="op">(</span><span class="st">"test5"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; You are a critique-focused evaluator. Instead of looking for general quality, you will look for deviations from the ideal.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Target Trait: {TRAIT_NAME}</span></span>
<span><span class="co">#&gt; Ideal Standard: {TRAIT_DESCRIPTION}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; SAMPLES:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &gt;&gt;&gt; TEXT_BLOCK_1 (Refers to SAMPLE_1)</span></span>
<span><span class="co">#&gt; {SAMPLE_1}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &gt;&gt;&gt; TEXT_BLOCK_2 (Refers to SAMPLE_2)</span></span>
<span><span class="co">#&gt; {SAMPLE_2}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; EVALUATION METHOD (Gap Analysis):</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 1. Scrutinize TEXT_BLOCK_1. Where does it fail, hesitate, or deviate from the Ideal Standard?</span></span>
<span><span class="co">#&gt; 2. Scrutinize TEXT_BLOCK_2. Where does it fail, hesitate, or deviate from the Ideal Standard?</span></span>
<span><span class="co">#&gt; 3. Compare the 'Distance from Ideal'. Which sample is closer to the definition provided?</span></span>
<span><span class="co">#&gt; 4. Select the sample with the FEWEST or LEAST SEVERE deficits regarding {TRAIT_NAME}.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; IMPORTANT:</span></span>
<span><span class="co">#&gt; - Ignore the order of presentation.</span></span>
<span><span class="co">#&gt; - Focus purely on which text adheres more tightly to the definition.</span></span>
<span><span class="co">#&gt; - If both are excellent, select the one with the higher 'ceiling' (stronger peak performance).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; FINAL SELECTION:</span></span>
<span><span class="co">#&gt; &lt;BETTER_SAMPLE&gt;SAMPLE_1&lt;/BETTER_SAMPLE&gt;</span></span>
<span><span class="co">#&gt; or</span></span>
<span><span class="co">#&gt; &lt;BETTER_SAMPLE&gt;SAMPLE_2&lt;/BETTER_SAMPLE&gt;</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="summary-table-4">9.5.2 Summary table<a class="anchor" aria-label="anchor" href="#summary-table-4"></a>
</h4>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_tbl</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">template_id</span> <span class="op">==</span> <span class="st">"test5"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">provider</span>, <span class="va">model</span>, <span class="va">thinking</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Prop_Consistent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_consistent</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Prop_SAMPLE_1   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_pos1</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Binomial_Test_p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif</a></span><span class="op">(</span><span class="va">p_sample1_overall</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    Provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>    Model    <span class="op">=</span> <span class="va">model</span>,</span>
<span>    Thinking <span class="op">=</span> <span class="va">thinking</span>,</span>
<span>    <span class="va">Prop_Consistent</span>,</span>
<span>    <span class="va">Prop_SAMPLE_1</span>,</span>
<span>    <span class="va">Binomial_Test_p</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="23%">
<col width="15%">
<col width="17%">
<col width="15%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th align="left">Provider</th>
<th align="left">Model</th>
<th align="left">Thinking</th>
<th align="right">Prop_Consistent</th>
<th align="right">Prop_SAMPLE_1</th>
<th align="right">Binomial_Test_p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.905</td>
<td align="right">0.463</td>
<td align="right">0.166000</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.926</td>
<td align="right">0.489</td>
<td align="right">0.719000</td>
</tr>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-opus-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.874</td>
<td align="right">0.447</td>
<td align="right">0.045300</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-opus-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.926</td>
<td align="right">0.489</td>
<td align="right">0.720000</td>
</tr>
<tr class="odd">
<td align="left">anthropic</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.900</td>
<td align="right">0.482</td>
<td align="right">0.505000</td>
</tr>
<tr class="even">
<td align="left">anthropic</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.900</td>
<td align="right">0.476</td>
<td align="right">0.383000</td>
</tr>
<tr class="odd">
<td align="left">gemini</td>
<td align="left">gemini-3-pro-preview</td>
<td align="left">with_thinking</td>
<td align="right">0.932</td>
<td align="right">0.508</td>
<td align="right">0.798000</td>
</tr>
<tr class="even">
<td align="left">openai</td>
<td align="left">gpt-4.1</td>
<td align="left">no_thinking</td>
<td align="right">0.911</td>
<td align="right">0.476</td>
<td align="right">0.383000</td>
</tr>
<tr class="odd">
<td align="left">openai</td>
<td align="left">gpt-4o</td>
<td align="left">no_thinking</td>
<td align="right">0.863</td>
<td align="right">0.463</td>
<td align="right">0.166000</td>
</tr>
<tr class="even">
<td align="left">openai</td>
<td align="left">gpt-5.1</td>
<td align="left">no_thinking</td>
<td align="right">0.877</td>
<td align="right">0.451</td>
<td align="right">0.085800</td>
</tr>
<tr class="odd">
<td align="left">openai</td>
<td align="left">gpt-5.1</td>
<td align="left">with_thinking</td>
<td align="right">0.789</td>
<td align="right">0.400</td>
<td align="right">0.000114</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
</div>
<div class="section level2">
<h2 id="per-provider-summary">10. Per-provider summary<a class="anchor" aria-label="anchor" href="#per-provider-summary"></a>
</h2>
<p>It is often useful to examine positional-bias metrics <strong>within
each provider</strong> to see whether:</p>
<ul>
<li>certain models exhibit more positional bias than others,</li>
<li>reasoning mode makes a difference,</li>
<li>a provider shows overall higher or lower reverse-order
consistency.</li>
</ul>
<p>The tables below show, for each provider, the key statistics:</p>
<ul>
<li>
<strong>Prop_Consistent</strong> — proportion of consistent
decisions under pair reversal<br>
</li>
<li>
<strong>Prop_SAMPLE_1</strong> — proportion of comparisons selecting
SAMPLE_1<br>
</li>
<li>
<strong>Binomial_Test_p</strong> — significance level for deviation
from 0.5</li>
</ul>
<p>Each row corresponds to a (template, model, thinking) configuration
used in testing.</p>
<hr>
<div class="section level3">
<h3 id="anthropic-models">10.1 Anthropic models<a class="anchor" aria-label="anchor" href="#anthropic-models"></a>
</h3>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_tbl</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">provider</span> <span class="op">==</span> <span class="st">"anthropic"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">template_id</span>, <span class="va">model</span>, <span class="va">thinking</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Prop_Consistent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_consistent</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Prop_SAMPLE_1   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_pos1</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Binomial_Test_p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif</a></span><span class="op">(</span><span class="va">p_sample1_overall</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    Template <span class="op">=</span> <span class="va">template_id</span>,</span>
<span>    Model    <span class="op">=</span> <span class="va">model</span>,</span>
<span>    Thinking <span class="op">=</span> <span class="va">thinking</span>,</span>
<span>    <span class="va">Prop_Consistent</span>,</span>
<span>    <span class="va">Prop_SAMPLE_1</span>,</span>
<span>    <span class="va">Binomial_Test_p</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span></span>
<span>    caption <span class="op">=</span> <span class="st">"Anthropic: Positional-bias summary by template, model, and thinking configuration."</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Anthropic: Positional-bias summary by template, model, and
thinking configuration.</caption>
<colgroup>
<col width="10%">
<col width="20%">
<col width="16%">
<col width="18%">
<col width="16%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">Template</th>
<th align="left">Model</th>
<th align="left">Thinking</th>
<th align="right">Prop_Consistent</th>
<th align="right">Prop_SAMPLE_1</th>
<th align="right">Binomial_Test_p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">test1</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.516</td>
<td align="right">0.5730</td>
</tr>
<tr class="even">
<td align="left">test1</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.905</td>
<td align="right">0.484</td>
<td align="right">0.5730</td>
</tr>
<tr class="odd">
<td align="left">test1</td>
<td align="left">claude-opus-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.442</td>
<td align="right">0.0273</td>
</tr>
<tr class="even">
<td align="left">test1</td>
<td align="left">claude-opus-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.884</td>
<td align="right">0.447</td>
<td align="right">0.0453</td>
</tr>
<tr class="odd">
<td align="left">test1</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.895</td>
<td align="right">0.505</td>
<td align="right">0.8780</td>
</tr>
<tr class="even">
<td align="left">test1</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.932</td>
<td align="right">0.497</td>
<td align="right">0.9590</td>
</tr>
<tr class="odd">
<td align="left">test2</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.863</td>
<td align="right">0.442</td>
<td align="right">0.0273</td>
</tr>
<tr class="even">
<td align="left">test2</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.932</td>
<td align="right">0.487</td>
<td align="right">0.6440</td>
</tr>
<tr class="odd">
<td align="left">test2</td>
<td align="left">claude-opus-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.895</td>
<td align="right">0.458</td>
<td align="right">0.1120</td>
</tr>
<tr class="even">
<td align="left">test2</td>
<td align="left">claude-opus-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.926</td>
<td align="right">0.474</td>
<td align="right">0.3300</td>
</tr>
<tr class="odd">
<td align="left">test2</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.926</td>
<td align="right">0.468</td>
<td align="right">0.2380</td>
</tr>
<tr class="even">
<td align="left">test2</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.916</td>
<td align="right">0.484</td>
<td align="right">0.5730</td>
</tr>
<tr class="odd">
<td align="left">test3</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.921</td>
<td align="right">0.461</td>
<td align="right">0.1370</td>
</tr>
<tr class="even">
<td align="left">test3</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.916</td>
<td align="right">0.463</td>
<td align="right">0.1660</td>
</tr>
<tr class="odd">
<td align="left">test3</td>
<td align="left">claude-opus-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.905</td>
<td align="right">0.463</td>
<td align="right">0.1660</td>
</tr>
<tr class="even">
<td align="left">test3</td>
<td align="left">claude-opus-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.916</td>
<td align="right">0.463</td>
<td align="right">0.1660</td>
</tr>
<tr class="odd">
<td align="left">test3</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.453</td>
<td align="right">0.0724</td>
</tr>
<tr class="even">
<td align="left">test3</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.937</td>
<td align="right">0.489</td>
<td align="right">0.7200</td>
</tr>
<tr class="odd">
<td align="left">test4</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.937</td>
<td align="right">0.468</td>
<td align="right">0.2380</td>
</tr>
<tr class="even">
<td align="left">test4</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.937</td>
<td align="right">0.474</td>
<td align="right">0.3280</td>
</tr>
<tr class="odd">
<td align="left">test4</td>
<td align="left">claude-opus-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.900</td>
<td align="right">0.461</td>
<td align="right">0.1370</td>
</tr>
<tr class="even">
<td align="left">test4</td>
<td align="left">claude-opus-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.895</td>
<td align="right">0.458</td>
<td align="right">0.1120</td>
</tr>
<tr class="odd">
<td align="left">test4</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.911</td>
<td align="right">0.461</td>
<td align="right">0.1370</td>
</tr>
<tr class="even">
<td align="left">test4</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.900</td>
<td align="right">0.482</td>
<td align="right">0.5050</td>
</tr>
<tr class="odd">
<td align="left">test5</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.905</td>
<td align="right">0.463</td>
<td align="right">0.1660</td>
</tr>
<tr class="even">
<td align="left">test5</td>
<td align="left">claude-haiku-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.926</td>
<td align="right">0.489</td>
<td align="right">0.7190</td>
</tr>
<tr class="odd">
<td align="left">test5</td>
<td align="left">claude-opus-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.874</td>
<td align="right">0.447</td>
<td align="right">0.0453</td>
</tr>
<tr class="even">
<td align="left">test5</td>
<td align="left">claude-opus-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.926</td>
<td align="right">0.489</td>
<td align="right">0.7200</td>
</tr>
<tr class="odd">
<td align="left">test5</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">no_thinking</td>
<td align="right">0.900</td>
<td align="right">0.482</td>
<td align="right">0.5050</td>
</tr>
<tr class="even">
<td align="left">test5</td>
<td align="left">claude-sonnet-4-5</td>
<td align="left">with_thinking</td>
<td align="right">0.900</td>
<td align="right">0.476</td>
<td align="right">0.3830</td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="section level3">
<h3 id="gemini-models">10.2 Gemini models<a class="anchor" aria-label="anchor" href="#gemini-models"></a>
</h3>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_tbl</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">provider</span> <span class="op">==</span> <span class="st">"gemini"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">template_id</span>, <span class="va">model</span>, <span class="va">thinking</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Prop_Consistent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_consistent</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Prop_SAMPLE_1   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_pos1</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Binomial_Test_p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif</a></span><span class="op">(</span><span class="va">p_sample1_overall</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    Template <span class="op">=</span> <span class="va">template_id</span>,</span>
<span>    Model    <span class="op">=</span> <span class="va">model</span>,</span>
<span>    Thinking <span class="op">=</span> <span class="va">thinking</span>,</span>
<span>    <span class="va">Prop_Consistent</span>,</span>
<span>    <span class="va">Prop_SAMPLE_1</span>,</span>
<span>    <span class="va">Binomial_Test_p</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span></span>
<span>    caption <span class="op">=</span> <span class="st">"Gemini: Positional-bias summary by template, model, and thinking configuration."</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Gemini: Positional-bias summary by template, model, and
thinking configuration.</caption>
<colgroup>
<col width="10%">
<col width="23%">
<col width="15%">
<col width="17%">
<col width="15%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th align="left">Template</th>
<th align="left">Model</th>
<th align="left">Thinking</th>
<th align="right">Prop_Consistent</th>
<th align="right">Prop_SAMPLE_1</th>
<th align="right">Binomial_Test_p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">test1</td>
<td align="left">gemini-3-pro-preview</td>
<td align="left">with_thinking</td>
<td align="right">0.926</td>
<td align="right">0.521</td>
<td align="right">0.4420</td>
</tr>
<tr class="even">
<td align="left">test2</td>
<td align="left">gemini-3-pro-preview</td>
<td align="left">with_thinking</td>
<td align="right">0.879</td>
<td align="right">0.561</td>
<td align="right">0.0209</td>
</tr>
<tr class="odd">
<td align="left">test3</td>
<td align="left">gemini-3-pro-preview</td>
<td align="left">with_thinking</td>
<td align="right">0.911</td>
<td align="right">0.545</td>
<td align="right">0.0903</td>
</tr>
<tr class="even">
<td align="left">test4</td>
<td align="left">gemini-3-pro-preview</td>
<td align="left">with_thinking</td>
<td align="right">0.916</td>
<td align="right">0.542</td>
<td align="right">0.1120</td>
</tr>
<tr class="odd">
<td align="left">test5</td>
<td align="left">gemini-3-pro-preview</td>
<td align="left">with_thinking</td>
<td align="right">0.932</td>
<td align="right">0.508</td>
<td align="right">0.7980</td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="section level3">
<h3 id="openai-models">10.3 OpenAI models<a class="anchor" aria-label="anchor" href="#openai-models"></a>
</h3>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_tbl</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">provider</span> <span class="op">==</span> <span class="st">"openai"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">template_id</span>, <span class="va">model</span>, <span class="va">thinking</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Prop_Consistent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_consistent</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Prop_SAMPLE_1   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">prop_pos1</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>    Binomial_Test_p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif</a></span><span class="op">(</span><span class="va">p_sample1_overall</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    Template <span class="op">=</span> <span class="va">template_id</span>,</span>
<span>    Model    <span class="op">=</span> <span class="va">model</span>,</span>
<span>    Thinking <span class="op">=</span> <span class="va">thinking</span>,</span>
<span>    <span class="va">Prop_Consistent</span>,</span>
<span>    <span class="va">Prop_SAMPLE_1</span>,</span>
<span>    <span class="va">Binomial_Test_p</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span></span>
<span>    caption <span class="op">=</span> <span class="st">"OpenAI: Positional-bias summary by template, model, and thinking configuration."</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>OpenAI: Positional-bias summary by template, model, and
thinking configuration.</caption>
<colgroup>
<col width="11%">
<col width="10%">
<col width="18%">
<col width="20%">
<col width="18%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="left">Template</th>
<th align="left">Model</th>
<th align="left">Thinking</th>
<th align="right">Prop_Consistent</th>
<th align="right">Prop_SAMPLE_1</th>
<th align="right">Binomial_Test_p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">test1</td>
<td align="left">gpt-4.1</td>
<td align="left">no_thinking</td>
<td align="right">0.937</td>
<td align="right">0.479</td>
<td align="right">0.442000</td>
</tr>
<tr class="even">
<td align="left">test1</td>
<td align="left">gpt-4o</td>
<td align="left">no_thinking</td>
<td align="right">0.837</td>
<td align="right">0.418</td>
<td align="right">0.001720</td>
</tr>
<tr class="odd">
<td align="left">test1</td>
<td align="left">gpt-5.1</td>
<td align="left">no_thinking</td>
<td align="right">0.926</td>
<td align="right">0.474</td>
<td align="right">0.330000</td>
</tr>
<tr class="even">
<td align="left">test1</td>
<td align="left">gpt-5.1</td>
<td align="left">with_thinking</td>
<td align="right">0.858</td>
<td align="right">0.429</td>
<td align="right">0.006480</td>
</tr>
<tr class="odd">
<td align="left">test2</td>
<td align="left">gpt-4.1</td>
<td align="left">no_thinking</td>
<td align="right">0.932</td>
<td align="right">0.466</td>
<td align="right">0.200000</td>
</tr>
<tr class="even">
<td align="left">test2</td>
<td align="left">gpt-4o</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.442</td>
<td align="right">0.027300</td>
</tr>
<tr class="odd">
<td align="left">test2</td>
<td align="left">gpt-5.1</td>
<td align="left">no_thinking</td>
<td align="right">0.853</td>
<td align="right">0.426</td>
<td align="right">0.004720</td>
</tr>
<tr class="even">
<td align="left">test2</td>
<td align="left">gpt-5.1</td>
<td align="left">with_thinking</td>
<td align="right">0.853</td>
<td align="right">0.426</td>
<td align="right">0.004720</td>
</tr>
<tr class="odd">
<td align="left">test3</td>
<td align="left">gpt-4.1</td>
<td align="left">no_thinking</td>
<td align="right">0.916</td>
<td align="right">0.458</td>
<td align="right">0.112000</td>
</tr>
<tr class="even">
<td align="left">test3</td>
<td align="left">gpt-4o</td>
<td align="left">no_thinking</td>
<td align="right">0.832</td>
<td align="right">0.416</td>
<td align="right">0.001200</td>
</tr>
<tr class="odd">
<td align="left">test3</td>
<td align="left">gpt-5.1</td>
<td align="left">no_thinking</td>
<td align="right">0.879</td>
<td align="right">0.445</td>
<td align="right">0.035300</td>
</tr>
<tr class="even">
<td align="left">test3</td>
<td align="left">gpt-5.1</td>
<td align="left">with_thinking</td>
<td align="right">0.863</td>
<td align="right">0.432</td>
<td align="right">0.008800</td>
</tr>
<tr class="odd">
<td align="left">test4</td>
<td align="left">gpt-4.1</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.442</td>
<td align="right">0.027300</td>
</tr>
<tr class="even">
<td align="left">test4</td>
<td align="left">gpt-4o</td>
<td align="left">no_thinking</td>
<td align="right">0.884</td>
<td align="right">0.442</td>
<td align="right">0.027300</td>
</tr>
<tr class="odd">
<td align="left">test4</td>
<td align="left">gpt-5.1</td>
<td align="left">no_thinking</td>
<td align="right">0.858</td>
<td align="right">0.429</td>
<td align="right">0.006480</td>
</tr>
<tr class="even">
<td align="left">test4</td>
<td align="left">gpt-5.1</td>
<td align="left">with_thinking</td>
<td align="right">0.832</td>
<td align="right">0.416</td>
<td align="right">0.001200</td>
</tr>
<tr class="odd">
<td align="left">test5</td>
<td align="left">gpt-4.1</td>
<td align="left">no_thinking</td>
<td align="right">0.911</td>
<td align="right">0.476</td>
<td align="right">0.383000</td>
</tr>
<tr class="even">
<td align="left">test5</td>
<td align="left">gpt-4o</td>
<td align="left">no_thinking</td>
<td align="right">0.863</td>
<td align="right">0.463</td>
<td align="right">0.166000</td>
</tr>
<tr class="odd">
<td align="left">test5</td>
<td align="left">gpt-5.1</td>
<td align="left">no_thinking</td>
<td align="right">0.877</td>
<td align="right">0.451</td>
<td align="right">0.085800</td>
</tr>
<tr class="even">
<td align="left">test5</td>
<td align="left">gpt-5.1</td>
<td align="left">with_thinking</td>
<td align="right">0.789</td>
<td align="right">0.400</td>
<td align="right">0.000114</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="applying-this-workflow-to-new-templates">11. Applying this workflow to new templates<a class="anchor" aria-label="anchor" href="#applying-this-workflow-to-new-templates"></a>
</h2>
<p>To evaluate new prompt templates on your own data:</p>
<ol style="list-style-type: decimal">
<li>
<p><strong>Add the templates</strong></p>
<ul>
<li>Create text files under <code>inst/templates/</code> (or wherever
your registry expects them).</li>
<li>Register them so that
<code>get_prompt_template("my_new_template")</code> works.</li>
</ul>
</li>
<li>
<p><strong>Update the dev script</strong></p>
<ul>
<li>Modify <code>template_ids</code> in your dev script to include the
new IDs.</li>
<li>Re-run the dev script that submits batch jobs and polls for results
(for example, a variant of
<code>dev-anthropic-gemini-template-ab-test.R</code> and/or
<code>dev-openai-template-ab-test.R</code>).</li>
</ul>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="conclusion">12. Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>This vignette demonstrates a reproducible workflow for detecting and
quantifying positional bias in prompt templates.</p>
<p>Including the template text and summary statistics side by side
allows rapid inspection and informed template selection. Templates that
show:</p>
<ul>
<li>consistently high <code>Prop_Consistent</code> (e.g., ≥ 0.90) across
providers and models, and<br>
</li>
<li>
<code>Prop_SAMPLE_1</code> close to 0.5 with non-significant
<code>Binomial_Test_p</code>
</li>
</ul>
<p>are strong candidates for production scoring pipelines in
<code>pairwiseLLM</code>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sterett H. Mercer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>

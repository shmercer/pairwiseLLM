% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stop_decision.R
\name{.stop_decision}
\alias{.stop_decision}
\title{Internal: decide whether to stop and why}
\usage{
.stop_decision(
  round,
  min_rounds = 2L,
  no_new_pairs = FALSE,
  budget_exhausted = FALSE,
  max_rounds_reached = FALSE,
  graph_healthy = TRUE,
  stability_reached = FALSE,
  precision_reached = FALSE,
  stop_reason_priority = NULL
)
}
\arguments{
\item{round}{Integer round index (1-based).}

\item{min_rounds}{Integer minimum rounds before any stopping other than exhaustion reasons.}

\item{no_new_pairs}{Logical; TRUE when no additional pairs can be proposed.}

\item{budget_exhausted}{Logical; TRUE when a user-specified pair budget is exhausted.}

\item{max_rounds_reached}{Logical; TRUE when \code{round >= max_rounds}.}

\item{graph_healthy}{Logical; TRUE when graph thresholds pass.}

\item{stability_reached}{Logical; TRUE when stability thresholds pass.}

\item{precision_reached}{Logical; TRUE when precision tier / thresholds pass.}

\item{stop_reason_priority}{Optional character vector of reason priority. When supplied,
it overrides the default priority among the stop-causes that are eligible after
the min_rounds gate.}
}
\value{
A list with \code{stop} (scalar logical), \code{reason} (scalar character or NA),
and \code{details} (named list).
}
\description{
Applies a deterministic priority order to select a single stop reason.
Designed to be called once per round after metrics are computed.
}
\details{
Priority (first match wins):
\enumerate{
\item round < min_rounds -> continue
\item no_new_pairs -> stop ("no_new_pairs")
\item budget_exhausted -> stop ("pair_budget_exhausted")
\item precision_reached -> stop ("precision_reached")
\item stability_reached AND graph_healthy -> stop ("stability_reached")
\item max_rounds_reached -> stop ("max_rounds_reached")
}
}
\keyword{internal}

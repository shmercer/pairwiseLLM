% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/text_embeddings.R
\name{compute_text_embeddings}
\alias{compute_text_embeddings}
\title{Compute text embeddings via Python (reticulate)}
\usage{
compute_text_embeddings(
  x,
  ids = NULL,
  engine = c("sentence_transformers"),
  model = "all-MiniLM-L6-v2",
  batch_size = 32L,
  normalize = FALSE,
  device = NULL,
  show_progress = interactive(),
  cache_dir = NULL,
  use_cache = TRUE,
  overwrite = FALSE,
  ...
)
}
\arguments{
\item{x}{A character vector of texts, or a data.frame/tibble with a \code{text}
column.}

\item{ids}{Optional character vector of IDs for the rows. If \code{x} is a
data.frame/tibble with an \code{ID} column and \code{ids} is \code{NULL},
\code{x$ID} is used.}

\item{engine}{Embedding engine. Currently only \code{"sentence_transformers"}
is supported.}

\item{model}{Model name/path passed to \code{SentenceTransformer}.}

\item{batch_size}{Integer batch size passed to \code{encode}.}

\item{normalize}{Logical; if \code{TRUE}, request normalized embeddings from
the Python backend when supported.}

\item{device}{Optional device string passed to \code{SentenceTransformer},
e.g. \code{"cpu"} or \code{"cuda"}. If \code{NULL}, the Python package
selects a default.}

\item{show_progress}{Logical; show a progress bar during encoding when the
backend supports it.}

\item{cache_dir}{Optional directory to cache computed embeddings as \code{.rds}
files. If \code{NULL} (default), caching is disabled.}

\item{use_cache}{Logical; when \code{TRUE} and \code{cache_dir} is provided,
reuse cached embeddings when available. When \code{FALSE}, embeddings are
computed fresh (and the cache is not read or written).}

\item{overwrite}{Logical; when \code{TRUE} and \code{cache_dir} is provided,
overwrite any existing cache entry for the current inputs.}

\item{...}{Additional keyword arguments forwarded to the Python
\code{encode()} method.}
}
\value{
A numeric matrix with one row per input text and one column per
embedding dimension. If \code{ids} are available, they are set as
\code{rownames()}.
}
\description{
Computes a numeric embedding matrix for a set of texts using a Python backend
accessed through \pkg{reticulate}. This is intended as a convenience helper
for workflows that select a linking core set using embeddings (see
\code{\link{select_core_set}}).
}
\details{
The default engine uses the Python package \pkg{sentence-transformers} and
the \code{SentenceTransformer} API.
}
\examples{
\dontrun{
# Requires reticulate + Python package sentence-transformers.
texts <- c("hello world", "goodbye")
emb <- compute_text_embeddings(texts, cache_dir = tempdir())
dim(emb)
}

}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validate_pairwise_results.R
\name{validate_pairwise_results}
\alias{validate_pairwise_results}
\title{Validate and normalize pairwise comparison results}
\usage{
validate_pairwise_results(
  results,
  id1_col = "ID1",
  id2_col = "ID2",
  winner_col = "better_id",
  judge_col = NULL,
  ids = NULL,
  allow_missing_winner = TRUE,
  allow_self = FALSE,
  normalize_winner = TRUE,
  return_report = FALSE
)
}
\arguments{
\item{results}{A data frame containing pairwise comparison results.}

\item{id1_col, id2_col}{Column names for the two item IDs. Defaults are \code{"ID1"} and \code{"ID2"}.}

\item{winner_col}{Column name for the winner/better ID. Default \code{"better_id"}.}

\item{judge_col}{Optional column name for judge/annotator identifier. If provided, it must exist
in \code{results} and must not contain missing values.}

\item{ids}{Optional character vector of valid IDs. If provided, all non-missing values in
\code{id1_col} and \code{id2_col} must be present in \code{ids}.}

\item{allow_missing_winner}{Logical; if \code{TRUE}, missing \code{winner_col} values are allowed.}

\item{allow_self}{Logical; if \code{FALSE} (default), rows with \code{id1_col == id2_col} error.}

\item{normalize_winner}{Logical; if \code{TRUE} (default), normalize common winner tokens into explicit IDs.}

\item{return_report}{Logical; if \code{TRUE}, return a list with \code{$data} and \code{$report}.}
}
\value{
By default, a tibble with the same columns as \code{results} (with normalized/coerced types).
If \code{return_report=TRUE}, a list with elements:
\itemize{
\item \code{data}: the normalized results tibble
\item \code{report}: a list of summary counts (missing winners, invalid winners, self-comparisons, etc.)
}
}
\description{
This helper checks that a results table contains the expected columns for
pairwise comparisons (two IDs plus a winner/better ID). Optionally, it
validates that IDs come from a known set, enforces no self-comparisons,
validates a judge column, and normalizes common winner tokens (e.g., "SAMPLE_1")
into explicit IDs.
}
\examples{
res <- tibble::tibble(ID1 = c("A", "A"), ID2 = c("B", "C"), better_id = c("A", "SAMPLE_2"))
validate_pairwise_results(res)

}

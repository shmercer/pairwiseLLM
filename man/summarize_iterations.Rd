% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/adaptive_summaries.R
\name{summarize_iterations}
\alias{summarize_iterations}
\title{Summarize adaptive iterations}
\usage{
summarize_iterations(state, last_n = NULL, include_optional = TRUE)
}
\arguments{
\item{state}{An \code{adaptive_state} or list containing adaptive logs.}

\item{last_n}{Optional positive integer; return only the last \code{n} rows.}

\item{include_optional}{Logical; include optional diagnostic columns.}
}
\value{
A tibble with one row per iteration. Required columns:
\describe{
\item{\code{iter}}{Iteration index.}
\item{\code{phase}}{Phase label.}
\item{\code{mode}}{Run mode.}
\item{\code{created_at}}{Iteration start time (UTC).}
\item{\code{batch_size_target}}{Target batch size.}
\item{\code{n_pairs_selected}}{Pairs scheduled this iteration.}
\item{\code{n_pairs_completed}}{New results observed since last log.}
\item{\code{candidate_starved}}{TRUE when fewer than target pairs were
scheduled.}
\item{\code{reason_short_batch}}{Reason for short batch, if any.}
\item{\code{n_explore_selected}}{Exploration pairs scheduled.}
\item{\code{n_exploit_selected}}{Exploitation pairs scheduled.}
}
Optional columns (when \code{include_optional = TRUE}) include
\code{n_pairs_failed}, \code{backlog_unjudged}, exploration/exploitation
targets, candidate counts, configuration used, utility percentiles, exit
path markers, diagnostics gates, and stop indicators.
}
\description{
Build a per-iteration diagnostics summary from the adaptive batch log. This
is a pure view over \code{batch_log} and does not recompute metrics.
}
\details{
Run-scale iteration counts reflect a single scheduling cycle. The batch log
records \code{n_pairs_selected} (pairs scheduled this iteration),
\code{n_pairs_completed} (newly observed since the previous log),
\code{n_pairs_failed} (newly failed attempts since the previous log), and
\code{backlog_unjudged} (scheduled minus completed, measured after
scheduling). Candidate health is captured by \code{candidate_starved} when
fewer than the target pairs are selected. This summary omits detailed
fallback-stage fields; see \code{adaptive_rank_start()} for the full
\code{batch_log} schema.
}

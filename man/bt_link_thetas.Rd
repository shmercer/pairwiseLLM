% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bt_linking.R
\name{bt_link_thetas}
\alias{bt_link_thetas}
\title{Link theta estimates to a reference scale using a core anchor set}
\usage{
bt_link_thetas(
  current,
  reference,
  ids = NULL,
  method = c("mean_sd"),
  min_n = 3L
)
}
\arguments{
\item{current}{Current theta estimates.}

\item{reference}{Reference theta estimates defining the target scale.}

\item{ids}{Optional character vector of IDs used to estimate the linking
transform (typically a core linking set). If \code{NULL}, uses the
intersection of IDs present in both inputs.}

\item{method}{Linking method. Currently only \code{"mean_sd"} is supported.}

\item{min_n}{Minimum number of core IDs required to compute the transform.
If fewer are available, the transform defaults to \code{a=0, b=1}.}
}
\value{
A list with:
\describe{
\item{a}{Intercept of the affine transform.}
\item{b}{Scale of the affine transform.}
\item{method}{Linking method used.}
\item{n_core}{Number of core IDs used.}
\item{theta}{A tibble with columns \code{ID}, \code{theta}, \code{se} (if present),
and the linked columns \code{theta_linked} and \code{se_linked}.}
}
}
\description{
Bradley--Terry (and related IRT) models identify theta only up to an additive
constant (and, depending on constraints, sometimes an additional linear scaling).
In sequential / multi-wave workflows, a common approach is to link each new fit
to a reference fit using a stable core set.
}
\details{
This function computes a simple affine transform

\deqn{\theta_{linked} = a + b\,\theta_{current}}

by matching the mean and SD of the current fit's core thetas to the reference
fit's core thetas. The transform is then applied to all items in the current
fit. Standard errors are scaled by \eqn{|b|} when available.

Inputs can be:
\itemize{
\item A list returned by \code{\link{fit_bt_model}} (uses \code{$theta}),
\item A tibble/data frame containing columns \code{ID} and \code{theta} (and optionally \code{se}), or
\item A named numeric vector of theta values.
}
}
\examples{
ref <- tibble::tibble(ID = c("A", "B", "C"), theta = c(0, 1, 2), se = 0.1)
cur <- tibble::tibble(ID = c("A", "B", "C"), theta = c(1, 2, 3), se = 0.2)
lk <- bt_link_thetas(cur, ref)
lk$a
lk$b
lk$theta

}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/openai_live.R
\name{submit_openai_pairs_live}
\alias{submit_openai_pairs_live}
\title{Live OpenAI comparisons for a tibble of pairs}
\usage{
submit_openai_pairs_live(
  pairs,
  model,
  trait_name,
  trait_description,
  prompt_template = set_prompt_template(),
  endpoint = c("chat.completions", "responses"),
  api_key = Sys.getenv("OPENAI_API_KEY"),
  ...
)
}
\arguments{
\item{pairs}{Tibble/data frame with at least columns \code{ID1}, \code{text1},
\code{ID2}, \code{text2}. Typically created by \code{\link{make_pairs}},
\code{\link{sample_pairs}}, and \code{\link{randomize_pair_order}}.}

\item{model}{OpenAI model name (e.g. "gpt-4.1", "gpt-5.1").}

\item{trait_name}{Trait name to pass to \code{openai_compare_pair_live}.}

\item{trait_description}{Trait description to pass to
\code{openai_compare_pair_live}.}

\item{prompt_template}{Prompt template string, typically from
\code{\link{set_prompt_template}}.}

\item{endpoint}{Which OpenAI endpoint to target. One of
\code{"chat.completions"} or \code{"responses"}.}

\item{api_key}{Optional OpenAI API key.}

\item{...}{Additional OpenAI parameters (temperature, top_p, logprobs,
reasoning, etc.) passed on to \code{openai_compare_pair_live}.}
}
\value{
A tibble with one row per pair and the same columns as
\code{\link{openai_compare_pair_live}}.
}
\description{
This is a thin row-wise wrapper around \code{\link{openai_compare_pair_live}}.
It takes a tibble of pairs (ID1/text1/ID2/text2), submits each pair to the
OpenAI API, and binds the results into a single tibble.
}
\details{
The output has the same columns as \code{\link{openai_compare_pair_live}},
with one row per pair, making it easy to pass into
\code{\link{build_bt_data}} and \code{\link{fit_bt_model}}.
}
\examples{
\dontrun{
data("example_writing_samples")

pairs <- example_writing_samples |>
  make_pairs() |>
  sample_pairs(n_pairs = 3, seed = 123) |>
  randomize_pair_order(seed = 456)

td   <- trait_description("overall_quality")
tmpl <- set_prompt_template()

res_live <- submit_openai_pairs_live(
  pairs             = pairs,
  model             = "gpt-4.1",
  trait_name        = td$name,
  trait_description = td$description,
  prompt_template   = tmpl,
  endpoint          = "chat.completions",
  temperature       = 0
)

res_live$better_id
}

}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/adaptive_run.R
\name{adaptive_rank_run_live}
\alias{adaptive_rank_run_live}
\title{Run adaptive ranking in a live loop}
\usage{
adaptive_rank_run_live(
  samples,
  model,
  trait_name,
  trait_description,
  prompt_template = NULL,
  backend = NULL,
  submission = list(),
  adaptive = list(),
  paths = list(state_path = NULL, output_dir = NULL),
  seed = NULL,
  max_iterations = NULL
)
}
\arguments{
\item{samples}{A data frame or tibble with columns \code{ID} and \code{text}.}

\item{model}{Model identifier for the selected backend.}

\item{trait_name}{Short label for the trait.}

\item{trait_description}{Full-text trait description.}

\item{prompt_template}{Optional prompt template string. Defaults to
\code{set_prompt_template()}.}

\item{backend}{Backend name (live-only): one of \code{"openai"},
\code{"anthropic"}, \code{"gemini"}, \code{"together"}, or \code{"ollama"}.}

\item{submission}{A list of arguments passed through to
\code{submit_llm_pairs()} on each live submission.}

\item{adaptive}{A list of adaptive configuration overrides. See
\code{adaptive_rank_start()} for supported keys.}

\item{paths}{A list with optional \code{state_path} and \code{output_dir}.}

\item{seed}{Optional integer seed for deterministic scheduling.}

\item{max_iterations}{Optional integer override for the live loop cap.}
}
\value{
A list with:
\describe{
\item{state}{The final \code{adaptive_state}.}
\item{submission_info}{Metadata for the last submission.}
\item{next_action}{List with \code{action} and \code{reason}.}
\item{iterations}{Number of iterations executed.}
}
}
\description{
Convenience wrapper that repeatedly calls
\code{adaptive_rank_start()} and \code{adaptive_rank_resume()} in live mode
until the budget is exhausted, no feasible pairs remain, or
\code{max_iterations} is reached.
}
\details{
Running this function will submit LLM comparisons and will incur API usage
costs for hosted backends. For larger runs, prefer batch mode so you can
checkpoint and control polling.
}
\examples{
\dontrun{
# Full live loop with safety cap
out <- adaptive_rank_run_live(
  samples = samples,
  model = "gpt-4.1",
  trait_name = td$name,
  trait_description = td$description,
  backend = "openai",
  adaptive = list(d1 = 8, M1_target = 40),
  seed = 123,
  max_iterations = 10
)
}

}

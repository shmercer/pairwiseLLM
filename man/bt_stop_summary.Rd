% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_accessors.R
\name{bt_stop_summary}
\alias{bt_stop_summary}
\title{Stable 1-row stop summary for a run}
\usage{
bt_stop_summary(run)
}
\arguments{
\item{run}{A run object returned by \code{\link[=bt_run_adaptive]{bt_run_adaptive()}},
\code{\link[=bt_run_core_linking]{bt_run_core_linking()}}, or \code{\link[=bt_run_adaptive_core_linking]{bt_run_adaptive_core_linking()}} (or a
similarly-structured list).}
}
\value{
A 1-row tibble with stable columns (NAs allowed).
}
\description{
\code{bt_stop_summary()} returns a schema-stable, 1-row tibble describing why/when a
run stopped and the last-round diagnostics when available.
}
\details{
The output always contains the same columns (NAs allowed):
\itemize{
\item \code{stop_reason}, \code{stop_round}, \code{theta_engine}
\item \code{degree_min}, \code{largest_component_frac}, \code{rms_theta_delta}, \code{topk_overlap}
\item \code{stop_blocked_by}, \code{stop_blocked_candidates}
}
}
\examples{
# Minimal run object (no diagnostics recorded) -> last-round metrics are NA
run <- list(
  results = NULL,
  estimates = NULL,
  theta = NULL,
  theta_engine = "mock",
  fit_provenance = list(),
  stop_reason = "max_rounds",
  stop_round = 3L,
  pairing_diagnostics = NULL
)
class(run) <- "pairwiseLLM_run"

bt_stop_summary(run)

# With pairing diagnostics -> last row is used
run$pairing_diagnostics <- tibble::tibble(
  round = c(1L, 2L),
  degree_min = c(1, 2),
  largest_component_frac = c(1, 1),
  rms_theta_delta = c(NA_real_, 0.01),
  topk_overlap = c(NA_real_, 0.9),
  stop_blocked_by = c(NA_character_, "budget"),
  stop_blocked_candidates = c(NA_character_, "A,B,C")
)

bt_stop_summary(run)

}
\seealso{
\code{\link[=bt_run_adaptive]{bt_run_adaptive()}}, \code{\link[=bt_run_core_linking]{bt_run_core_linking()}},
\code{\link[=bt_run_adaptive_core_linking]{bt_run_adaptive_core_linking()}}.
}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gemini_batch_api.R
\name{parse_gemini_batch_output}
\alias{parse_gemini_batch_output}
\title{Parse Gemini batch JSONL output into a tibble of pairwise results}
\usage{
parse_gemini_batch_output(results_path, requests_tbl)
}
\arguments{
\item{results_path}{Path to the JSONL file produced by
\code{\link[=gemini_download_batch_results]{gemini_download_batch_results()}}.}

\item{requests_tbl}{Tibble/data frame with at least columns \code{custom_id},
\code{ID1}, and \code{ID2}, in the same order as the original requests.}
}
\value{
A tibble with one row per request and columns:
\itemize{
\item \code{custom_id}
\item \code{ID1}, \code{ID2}
\item \code{model}
\item \code{object_type}
\item \code{status_code}
\item \code{result_type}
\item \code{error_message}
\item \code{content}
\item \code{better_sample}
\item \code{better_id}
\item \code{prompt_tokens}
\item \code{completion_tokens}
\item \code{total_tokens}
}
}
\description{
This function reads a JSONL file created by \code{\link[=gemini_download_batch_results]{gemini_download_batch_results()}}
and converts each line into a row that mirrors the structure used for live
pairwise calls.
}
\details{
Each line is expected to be a JSON object of the form:

{"custom_id": "<GEM_ID1_vs_ID2>",
"result": {
"type": "succeeded",
"response": { ... GenerateContentResponse ... }
}}

or:

{"custom_id": "<GEM_ID1_vs_ID2>",
"result": {
"type": "errored",
"error": { ... }
}}
}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validate_embeddings.R
\name{validate_embeddings}
\alias{validate_embeddings}
\title{Validate and align an embeddings matrix}
\usage{
validate_embeddings(
  embeddings,
  ids = NULL,
  allow_na = FALSE,
  arg_name = "embeddings"
)
}
\arguments{
\item{embeddings}{A numeric matrix of embeddings with one row per item.}

\item{ids}{Optional character vector of IDs for the target items. If supplied:
\itemize{
\item If \code{rownames(embeddings)} are present, they must contain all
\code{ids} and will be used to align/reorder rows to \code{ids}.
Extra rows are allowed.
\item If \code{rownames(embeddings)} are not present, then
\code{nrow(embeddings)} must equal \code{length(ids)} and rows are
assumed to be in the same order as \code{ids}.
}}

\item{allow_na}{Logical; allow missing values in \code{embeddings}. Default
\code{FALSE}.}

\item{arg_name}{Character; used in error messages to name the argument.}
}
\value{
A numeric matrix. If \code{ids} are provided and rownames are present,
the returned matrix is reordered to match \code{ids}.
}
\description{
Validates that an embeddings object is a numeric matrix and (optionally)
aligns/reorders its rows to match a set of item IDs.
}
\details{
This helper is useful for "bring your own embeddings" workflows:
pre-compute embeddings however you like, then call \code{validate_embeddings()}
before passing them into \code{select_core_set()}.
}
\examples{
ids <- c("a", "b", "c")
emb <- matrix(rnorm(3 * 4), ncol = 4)
rownames(emb) <- ids
emb2 <- validate_embeddings(emb, ids = ids)
stopifnot(identical(rownames(emb2), ids))

}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bt_run_adaptive.R
\name{.theta_from_last_running_fit}
\alias{.theta_from_last_running_fit}
\title{Extract theta from the last available running fit}
\usage{
.theta_from_last_running_fit(final_fit, id_vec)
}
\arguments{
\item{final_fit}{A fit object produced during the adaptive loop
(typically \code{fits[[length(fits)]]}), or \code{NULL}.}

\item{id_vec}{Character vector of item IDs in the model.}
}
\value{
A list with elements:
\describe{
\item{theta}{A tibble with columns \code{ID, theta, se, rank}, or \code{NULL}.}
\item{engine}{Character string naming the engine used (e.g., \code{"rank_centrality"}).}
}
}
\description{
Internal helper used by \code{bt_run_adaptive()} to guarantee that
\code{out$theta} exists even when final refitting is disabled or fails.
}
\details{
This function attempts to extract a compact theta table
(\code{ID, theta, se, rank}) from the last running fit.
}
\keyword{internal}

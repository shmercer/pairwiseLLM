% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/make_llm_judge_fun.R
\name{make_llm_judge_fun}
\alias{make_llm_judge_fun}
\title{Create a judge function backed by live LLM pair submission}
\usage{
make_llm_judge_fun(
  backend,
  model,
  save_path = NULL,
  ...,
  return_mode = c("new", "all")
)
}
\arguments{
\item{backend}{Character scalar. Backend name (e.g., \code{"openai"}, \code{"anthropic"},
\code{"gemini"}, \code{"together"}, \code{"ollama"}).}

\item{model}{Character scalar. Model identifier passed through to
\code{\link[=submit_llm_pairs]{submit_llm_pairs()}}.}

\item{save_path}{Optional path for checkpointed results. Passed through to
\code{\link[=submit_llm_pairs]{submit_llm_pairs()}}.}

\item{...}{Additional arguments forwarded to \code{\link[=submit_llm_pairs]{submit_llm_pairs()}}.}

\item{return_mode}{Character scalar. One of \code{"new"} or \code{"all"}. Passed through
to \code{\link[=submit_llm_pairs]{submit_llm_pairs()}}. Defaults to \code{"new"} because this helper is intended
for iterative/adaptive use.}
}
\value{
A function with signature \verb{function(pairs)} that returns a tibble of
pairwise results.
}
\description{
Creates a function suitable for use as a judge in adaptive or iterative
workflows. The returned function calls \code{\link[=submit_llm_pairs]{submit_llm_pairs()}} and returns only
the \code{results} tibble.

For checkpointed live runs that append to \code{save_path}, set
\code{return_mode = "new"} (the default) to avoid double-counting historical rows
in iterative workflows.
}
\examples{
judge_fun <- make_llm_judge_fun(
  backend = "openai",
  model = "gpt-4.1",
  save_path = tempfile(fileext = ".csv")
)

# In adaptive workflows, use return_mode = "new" (default) to avoid
# double-counting historical checkpoint rows.
\dontrun{
pairs <- tibble::tibble(
  ID1 = c("a", "b"),
  text1 = c("Text A", "Text B"),
  ID2 = c("c", "d"),
  text2 = c("Text C", "Text D")
)
res <- judge_fun(pairs)
}

}
